(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-145c2f74"],{"05ed":function(t,e,n){"use strict";n.d(e,"e",(function(){return i})),n.d(e,"i",(function(){return r})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return o})),n.d(e,"j",(function(){return l})),n.d(e,"g",(function(){return u})),n.d(e,"b",(function(){return s})),n.d(e,"k",(function(){return d})),n.d(e,"d",(function(){return f})),n.d(e,"h",(function(){return p})),n.d(e,"f",(function(){return b}));var a=n("b775"),i=function(t){return Object(a["d"])("/dict/listDict")},r=function(t){return Object(a["d"])("/dict/uiActionList")},c=function(t){return Object(a["d"])("/dict/apiActionList")},o=function(t){return Object(a["e"])("/dict/addDict",t)},l=function(t){return Object(a["f"])("/dict/editDict",t)},u=function(t){return Object(a["d"])("/dict/listDictValue/"+t)},s=function(t){return Object(a["e"])("/dict/addDictValue",t)},d=function(t){return Object(a["f"])("/dict/editDictValue",t)},f=function(t){return Object(a["e"])("/dict/removeDictValue/"+t)},p=function(t){return Object(a["d"])("/dict/dictValue/listPage",t)},b=function(t){return Object(a["e"])("/dict/getDictValueById/"+t)}},"0e4c":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return r})),n.d(e,"a",(function(){return c})),n.d(e,"e",(function(){return o})),n.d(e,"b",(function(){return l}));var a=n("b775"),i=function(t){return Object(a["d"])("/testDatabese/listPage",t,!1)},r=function(t){return Object(a["d"])("/testDatabese/listByProjectId/"+t)},c=function(t){return Object(a["e"])("/testDatabese/add",t)},o=function(t){return Object(a["f"])("/testDatabese/edit",t)},l=function(t){return Object(a["e"])("/testDatabese/remove",t)}},"737b":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"request-body"},[n("el-table",{staticClass:"el-table-no-border",attrs:{data:t.body,size:"mini","show-header":!0}},[n("el-table-column",{attrs:{property:"name",label:"描述","header-align":"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{size:"mini",placeholder:"执行名称"},model:{value:e.row.name,callback:function(n){t.$set(e.row,"name",n)},expression:"scope.row.name"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{property:"action",label:"action","header-align":"center",width:"188"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-cascader",{staticStyle:{width:"150px"},attrs:{placeholder:"试试搜索：关键字",size:"mini",options:t.apiActionList,"show-all-levels":!1,filterable:"","popper-class":"ui-action-popper-class",props:{expandTrigger:"hover"}},on:{change:function(n){return t.changeAction(e.row,e.row.actionTemp)}},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.node,i=e.data;return[n("span",[t._v(t._s(i.label))]),t._v(" "),a.isLeaf?n("span",[t._v(" ("+t._s(i.name)+") ")]):t._e(),t._v(" "),a.isLeaf?t._e():n("span",[t._v(" ("+t._s(i.children.length)+") ")])]}}],null,!0),model:{value:e.row.actionTemp,callback:function(n){t.$set(e.row,"actionTemp",n)},expression:"scope.row.actionTemp"}}),t._v(" "),n("el-popover",{attrs:{placement:"top",width:"400",trigger:"click"}},[n("pre",[t._v(t._s(e.row.actionRemark))]),t._v(" "),n("svg-icon",{staticStyle:{cursor:"pointer"},attrs:{slot:"reference","icon-class":"tips"},slot:"reference"})],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{property:"mainParamId",label:"数据库/文件","header-align":"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",filterable:"",placeholder:"请选择数据库"},model:{value:e.row.mainParamId,callback:function(n){t.$set(e.row,"mainParamId",n)},expression:"scope.row.mainParamId"}},t._l(t.testDataBaseList,(function(t,e){return n("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),1)]}}])}),t._v(" "),n("el-table-column",{attrs:{property:"params",label:"参数","header-align":"center","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{attrs:{size:"mini",placeholder:"参数"},model:{value:e.row.params,callback:function(n){t.$set(e.row,"params",n)},expression:"scope.row.params"}})]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"","header-align":"center",width:"40"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.$index+1!==t.body.length?n("el-button",{staticStyle:{padding:"5px 0px 5px"},attrs:{type:"text",icon:"el-icon-delete"},nativeOn:{click:function(n){return t.delTableRow("body",e.$index)}}}):t._e()]}}])})],1)],1)},i=[],r=(n("6d57"),n("cc57"),n("0e4c")),c=n("05ed"),o={props:["value"],data:function(){return{testDataBaseList:[],apiActionList:[],body:[]}},watch:{body:{handler:function(t){0===t.length?this.addTableRow("body"):t[t.length-1]["name"]&&t[t.length-1]["action"]&&this.addTableRow("body");for(var e=0;e<t.length;e++){var n=t[e];if(e!==t.length-1&&!n.name&&!n.action){this.delTableRow("body",e);break}}this.$emit("input",t)},deep:!0},value:{handler:function(t){this.body=t||[{name:"",actionType:"",action:"",actionRemark:"",actionTemp:[],mainParamId:"",params:""}],this.body&&this.body.map((function(t){return t.actionTemp=[t.actionType,t.action],t}))},immediate:!0}},mounted:function(){var t=this;this.getApiActionList(),Object(r["d"])(this.$store.getters.projectId).then((function(e){t.testDataBaseList=e||[]}))},methods:{addTableRow:function(t){"body"===t&&this.body.push({name:"",actionType:"",action:"",actionRemark:"",actionTemp:[],mainParamId:"",params:""})},delTableRow:function(t,e){"body"===t&&this.body.splice(e,1)},changeAction:function(t,e){t.actionType=e[0],t.action=e[1];for(var n=this.apiActionList,a=0;a<n.length;a++)if(0!==n[a].children.length&&n[a].value===e[0])for(var i=0;i<n[a].children.length;i++)if(n[a].children[i].value===e[1]){t.actionRemark=n[a].children[i].remark;break}},getApiActionList:function(){var t=this;Object(c["c"])().then((function(e){e.forEach((function(e){var n=e.name,a=e.key,i=[];e.sysDictValueList&&e.sysDictValueList.forEach((function(t){var e=t.key,n=t.key,a=t.name,r=t.remark;i.push({label:e,value:n,name:a,remark:r})})),t.apiActionList.push({label:n,value:a,children:i})}))}))}}},l=o,u=(n("7db5"),n("5511")),s=Object(u["a"])(l,a,i,!1,null,"60f24ec4",null);e["default"]=s.exports},"7db5":function(t,e,n){"use strict";var a=n("7f0e"),i=n.n(a);i.a},"7f0e":function(t,e,n){}}]);