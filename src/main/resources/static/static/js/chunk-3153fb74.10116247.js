(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3153fb74","chunk-4dead419","chunk-145c2f74","chunk-51b8a5f7","chunk-597c0496","chunk-1f1a3142","chunk-4453d42d","chunk-b8753954","chunk-1e49acc8","chunk-37b32755","chunk-2d221446"],{"05ed":function(e,t,a){"use strict";a.d(t,"e",(function(){return l})),a.d(t,"i",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return o})),a.d(t,"j",(function(){return s})),a.d(t,"g",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"k",(function(){return d})),a.d(t,"d",(function(){return p})),a.d(t,"h",(function(){return f})),a.d(t,"f",(function(){return h}));var n=a("b775"),l=function(e){return Object(n["d"])("/dict/listDict")},i=function(e){return Object(n["d"])("/dict/uiActionList")},r=function(e){return Object(n["d"])("/dict/apiActionList")},o=function(e){return Object(n["e"])("/dict/addDict",e)},s=function(e){return Object(n["f"])("/dict/editDict",e)},c=function(e){return Object(n["d"])("/dict/listDictValue/"+e)},u=function(e){return Object(n["e"])("/dict/addDictValue",e)},d=function(e){return Object(n["f"])("/dict/editDictValue",e)},p=function(e){return Object(n["e"])("/dict/removeDictValue/"+e)},f=function(e){return Object(n["d"])("/dict/dictValue/listPage",e)},h=function(e){return Object(n["e"])("/dict/getDictValueById/"+e)}},"0cea":function(e,t,a){"use strict";a.d(t,"i",(function(){return l})),a.d(t,"h",(function(){return i})),a.d(t,"g",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return s})),a.d(t,"j",(function(){return c})),a.d(t,"k",(function(){return u})),a.d(t,"e",(function(){return d})),a.d(t,"f",(function(){return p})),a.d(t,"c",(function(){return f})),a.d(t,"d",(function(){return h}));var n=a("b775"),l=function(e){return Object(n["d"])("/apiTestCase/listPage",e,!1)},i=function(e){return Object(n["d"])("/apiTestCase/"+e)},r=function(e){return Object(n["d"])("/apiTestCase/steps/"+e)},o=function(e){return Object(n["e"])("/apiTestCase/add",e)},s=function(e){return Object(n["e"])("/apiTestCase/addApiToCase",e)},c=function(e){return Object(n["f"])("/apiTestCase/edit",e)},u=function(e){return Object(n["f"])("/apiTestCase/editStep",e)},d=function(e){return Object(n["e"])("/apiTestCase/remove",e)},p=function(e){return Object(n["e"])("/apiTestCase/removeStep",e)},f=function(e){return Object(n["e"])("/apiTestCase/copyStep",e)},h=function(e){return Object(n["e"])("/apiTestCase/debug",e)}},"0e4c":function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"e",(function(){return o})),a.d(t,"b",(function(){return s}));var n=a("b775"),l=function(e){return Object(n["d"])("/testDatabese/listPage",e,!1)},i=function(e){return Object(n["d"])("/testDatabese/listByProjectId/"+e)},r=function(e){return Object(n["e"])("/testDatabese/add",e)},o=function(e){return Object(n["f"])("/testDatabese/edit",e)},s=function(e){return Object(n["e"])("/testDatabese/remove",e)}},"0fa8":function(e,t,a){},"18c9":function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"e",(function(){return o})),a.d(t,"b",(function(){return s}));var n=a("b775"),l=function(e){return Object(n["d"])("/env/listPage",e,!1)},i=function(e){return Object(n["d"])("/env/listByProjectId/"+e)},r=function(e){return Object(n["e"])("/env/add",e)},o=function(e){return Object(n["f"])("/env/edit",e)},s=function(e){return Object(n["e"])("/env/remove",e)}},"19c4":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{attrs:{data:e.assert,border:"",size:"mini"}},[a("el-table-column",{attrs:{property:"dataSource",align:"center","min-width":"115"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{size:"mini",placeholder:"响应类型"},model:{value:t.row.dataSource,callback:function(a){e.$set(t.row,"dataSource",a)},expression:"scope.row.dataSource"}},[a("el-option",{attrs:{label:"响应体(JSON)",value:"bodyJson"}}),e._v(" "),a("el-option",{attrs:{label:"响应体(XML)",value:"bodyXml"}}),e._v(" "),a("el-option",{attrs:{label:"响应体(正则)",value:"bodyReg"}}),e._v(" "),a("el-option",{attrs:{label:"响应码",value:"code"}}),e._v(" "),a("el-option",{attrs:{label:"响应头",value:"header"}})],1)]}}])},[a("template",{slot:"header"},[a("span",{staticClass:"required"},[e._v("\n        数据源\n        "),a("el-button",{staticClass:"el-icon-circle-plus",staticStyle:{padding:"4px 0px"},attrs:{type:"text",size:"mini"},on:{click:function(t){return e.addTableRow("assert")}}})],1)])],2),e._v(" "),a("el-table-column",{attrs:{property:"extractExpress",label:"提取表达式",align:"center","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{disabled:"响应码"===t.row.dataSource,size:"mini",placeholder:"提取表达式"},model:{value:t.row.extractExpress,callback:function(a){e.$set(t.row,"extractExpress",a)},expression:"scope.row.extractExpress"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"expectRelation",label:"期望关系",align:"center","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{size:"mini",disabled:"响应码"===t.row.dataSource,placeholder:"期望关系"},model:{value:t.row.expectRelation,callback:function(a){e.$set(t.row,"expectRelation",a)},expression:"scope.row.expectRelation"}},[a("el-option",{attrs:{label:"等于",value:"等于"}}),e._v(" "),a("el-option",{attrs:{label:"大于",value:"大于"}}),e._v(" "),a("el-option",{attrs:{label:"大于等于",value:"大于等于"}}),e._v(" "),a("el-option",{attrs:{label:"小于",value:"小于"}}),e._v(" "),a("el-option",{attrs:{label:"小于等于",value:"小于等于"}}),e._v(" "),a("el-option",{attrs:{label:"包含",value:"包含"}}),e._v(" "),a("el-option",{attrs:{label:"不包含",value:"不包含"}}),e._v(" "),a("el-option",{attrs:{label:"长度等于",value:"长度等于"}}),e._v(" "),a("el-option",{attrs:{label:"长度大于",value:"长度大于"}}),e._v(" "),a("el-option",{attrs:{label:"长度大于等于",value:"长度大于等于"}}),e._v(" "),a("el-option",{attrs:{label:"长度小于",value:"长度小于"}}),e._v(" "),a("el-option",{attrs:{label:"长度小于等于",value:"长度小等于"}}),e._v(" "),a("el-option",{attrs:{label:"开始于",value:"开始于"}}),e._v(" "),a("el-option",{attrs:{label:"结束于",value:"结束于"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"extractType",label:"期望类型",align:"center","min-width":"92"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{size:"mini",disabled:"响应码"===t.row.dataSource,placeholder:"期望关系"},model:{value:t.row.extractType,callback:function(a){e.$set(t.row,"extractType",a)},expression:"scope.row.extractType"}},[a("el-option",{attrs:{label:"字符串",value:"string"}}),e._v(" "),a("el-option",{attrs:{label:"数值",value:"number"}}),e._v(" "),a("el-option",{attrs:{label:"布尔值",value:"boolean"}}),e._v(" "),a("el-option",{attrs:{label:"接口变量",value:"apiVar"}}),e._v(" "),a("el-option",{attrs:{label:"Null",value:"null"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"expectValue",label:"期望值",align:"center","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"期望值"},model:{value:t.row.expectValue,callback:function(a){e.$set(t.row,"expectValue",a)},expression:"scope.row.expectValue"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"55"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"5px 7px 5px 7px"},attrs:{type:"text",icon:"el-icon-delete"},nativeOn:{click:function(a){return e.delTableRow("assert",t.$index)}}})]}}])})],1)},l=[],i={props:["value"],data:function(){return{assert:[{dataSource:"bodyJson",extractType:"string",extractExpress:"",expectRelation:"等于",expectValue:""}]}},watch:{assert:{handler:function(e){this.$emit("input",e)},deep:!0},value:{handler:function(e){this.assert=e||[]},immediate:!0}},mounted:function(){},methods:{addTableRow:function(e){"assert"===e&&this.assert.push({dataSource:"bodyJson",extractType:"string",extractExpress:"",expectRelation:"等于",expectValue:""})},delTableRow:function(e,t){"assert"===e&&this.assert.splice(t,1)}}},r=i,o=(a("5d85"),a("5511")),s=Object(o["a"])(r,n,l,!1,null,"62673cc7",null);t["default"]=s.exports},2934:function(e,t,a){"use strict";var n=a("6305"),l=a.n(n);l.a},"2f9d":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"request-body"},[a("el-table",{staticClass:"el-table-no-border",attrs:{data:e.body,size:"mini","show-header":!1}},[a("el-table-column",{attrs:{property:"key",label:"Key","header-align":"center","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"key"},model:{value:t.row.key,callback:function(a){e.$set(t.row,"key",a)},expression:"scope.row.key"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"value",label:"type","header-align":"center","min-width":"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{size:"mini",placeholder:"请选择分类名称"},model:{value:t.row.type,callback:function(a){e.$set(t.row,"type",a)},expression:"scope.row.type"}},[a("el-option",{attrs:{label:"text",value:"text"}}),e._v(" "),a("el-option",{attrs:{label:"file",value:"file"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"value",label:"Value","header-align":"center","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"value"},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"remark",label:"Value","header-align":"center","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"remark"},model:{value:t.row.remark,callback:function(a){e.$set(t.row,"remark",a)},expression:"scope.row.remark"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","header-align":"center",width:"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.$index+1!==e.body.length?a("el-button",{staticStyle:{padding:"5px 0px 5px"},attrs:{type:"text",icon:"el-icon-delete"},nativeOn:{click:function(a){return e.delTableRow("body",t.$index)}}}):e._e()]}}])})],1)],1)},l=[],i={props:["value"],data:function(){return{body:[]}},watch:{body:{handler:function(e){0===e.length?this.addTableRow("body"):e[e.length-1]["key"]&&this.addTableRow("body");for(var t=0;t<e.length;t++){var a=e[t];if(t!==e.length-1&&!a.key){this.delTableRow("body",t);break}}this.$emit("input",e)},deep:!0},value:{handler:function(e){this.body=e||[{key:"",type:"text",value:"",remark:""}]},immediate:!0}},mounted:function(){},methods:{addTableRow:function(e){"body"===e&&this.body.push({key:"",type:"text",value:"",remark:""})},delTableRow:function(e,t){"body"===e&&this.body.splice(t,1)}}},r=i,o=(a("60b8"),a("5511")),s=Object(o["a"])(r,n,l,!1,null,"5f1ee066",null);t["default"]=s.exports},"32fd":function(e,t,a){"use strict";var n=a("9e24"),l=a.n(n);l.a},"49ee":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"request-body"},[a("div",[a("editor",{directives:[{name:"contextmenu",rawName:"v-contextmenu:contextmenu",arg:"contextmenu"}],staticStyle:{"font-size":"15px"},attrs:{lang:"json",theme:"chrome",width:"100%",height:"205px",options:{}},on:{init:e.editorInit},model:{value:e.body,callback:function(t){e.body=t},expression:"body"}}),e._v(" "),a("v-contextmenu",{ref:"contextmenu"},[a("v-contextmenu-item",{on:{click:e.handleClick}},[e._v("清除")]),e._v(" "),a("v-contextmenu-item",{on:{click:e.formatData}},[e._v("格式化")])],1)],1)])},l=[],i={components:{editor:a("50bc")},props:["value"],data:function(){return{body:""}},watch:{body:{handler:function(e){this.$emit("input",e)},deep:!0},value:{handler:function(e){this.body=e||"[]"},immediate:!0}},mounted:function(){},methods:{handleClick:function(){this.body=""},editorInit:function(){a("93c6"),a("012f"),a("cabe")},formatData:function(){try{this.body=JSON.parse(this.body),this.body=JSON.stringify(this.body,null,2)}catch(e){this.$message({showClose:!0,message:"json格式错误",type:"warning"})}},addTableRow:function(e){"body"===e&&this.body.push({key:"",value:"",remark:""})},delTableRow:function(e,t){"body"===e&&this.body.splice(t,1)}}},r=i,o=(a("a297"),a("5511")),s=Object(o["a"])(r,n,l,!1,null,"60cfd7eb",null);t["default"]=s.exports},"4d33":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{style:{height:e.height+"px",zIndex:e.zIndex}},[a("div",{class:e.className,style:{bottom:"0px",zIndex:e.zIndex,position:"fixed",width:e.width+"px",height:e.height+"px",transition:"width 0.3s"}},[e._t("default",[a("div",[e._v("myFoot")])])],2)])},l=[],i=(a("163d"),{name:"MyFoot",props:{zIndex:{type:Number,default:1},className:{type:String,default:""}},data:function(){return{width:void 0,height:void 0}},computed:{sidebar:function(){return this.$store.state.app.sidebar}},watch:{"sidebar.opened":function(e){this.width=e?this.width-156:this.width+156}},mounted:function(){this.handleResize()},destroyed:function(){},methods:{handleResize:function(){this.width=this.$el.getBoundingClientRect().width}}}),r=i,o=a("5511"),s=Object(o["a"])(r,n,l,!1,null,null,null);t["a"]=s.exports},"5d85":function(e,t,a){"use strict";var n=a("da50"),l=a.n(n);l.a},"60b8":function(e,t,a){"use strict";var n=a("65fc"),l=a.n(n);l.a},6305:function(e,t,a){},"65fc":function(e,t,a){},"737b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"request-body"},[a("el-table",{staticClass:"el-table-no-border",attrs:{data:e.body,size:"mini","show-header":!0}},[a("el-table-column",{attrs:{property:"name",label:"描述","header-align":"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"执行名称"},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"action",label:"action","header-align":"center",width:"188"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-cascader",{staticStyle:{width:"150px"},attrs:{placeholder:"试试搜索：关键字",size:"mini",options:e.apiActionList,"show-all-levels":!1,filterable:"","popper-class":"ui-action-popper-class",props:{expandTrigger:"hover"}},on:{change:function(a){return e.changeAction(t.row,t.row.actionTemp)}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node,l=t.data;return[a("span",[e._v(e._s(l.label))]),e._v(" "),n.isLeaf?a("span",[e._v(" ("+e._s(l.name)+") ")]):e._e(),e._v(" "),n.isLeaf?e._e():a("span",[e._v(" ("+e._s(l.children.length)+") ")])]}}],null,!0),model:{value:t.row.actionTemp,callback:function(a){e.$set(t.row,"actionTemp",a)},expression:"scope.row.actionTemp"}}),e._v(" "),a("el-popover",{attrs:{placement:"top",width:"400",trigger:"click"}},[a("pre",[e._v(e._s(t.row.actionRemark))]),e._v(" "),a("svg-icon",{staticStyle:{cursor:"pointer"},attrs:{slot:"reference","icon-class":"tips"},slot:"reference"})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"mainParamId",label:"数据库/文件","header-align":"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",filterable:"",placeholder:"请选择数据库"},model:{value:t.row.mainParamId,callback:function(a){e.$set(t.row,"mainParamId",a)},expression:"scope.row.mainParamId"}},e._l(e.testDataBaseList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"params",label:"参数","header-align":"center","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"参数"},model:{value:t.row.params,callback:function(a){e.$set(t.row,"params",a)},expression:"scope.row.params"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"","header-align":"center",width:"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.$index+1!==e.body.length?a("el-button",{staticStyle:{padding:"5px 0px 5px"},attrs:{type:"text",icon:"el-icon-delete"},nativeOn:{click:function(a){return e.delTableRow("body",t.$index)}}}):e._e()]}}])})],1)],1)},l=[],i=(a("6d57"),a("cc57"),a("0e4c")),r=a("05ed"),o={props:["value"],data:function(){return{testDataBaseList:[],apiActionList:[],body:[]}},watch:{body:{handler:function(e){0===e.length?this.addTableRow("body"):e[e.length-1]["name"]&&e[e.length-1]["action"]&&this.addTableRow("body");for(var t=0;t<e.length;t++){var a=e[t];if(t!==e.length-1&&!a.name&&!a.action){this.delTableRow("body",t);break}}this.$emit("input",e)},deep:!0},value:{handler:function(e){this.body=e||[{name:"",actionType:"",action:"",actionRemark:"",actionTemp:[],mainParamId:"",params:""}],this.body&&this.body.map((function(e){return e.actionTemp=[e.actionType,e.action],e}))},immediate:!0}},mounted:function(){var e=this;this.getApiActionList(),Object(i["d"])(this.$store.getters.projectId).then((function(t){e.testDataBaseList=t||[]}))},methods:{addTableRow:function(e){"body"===e&&this.body.push({name:"",actionType:"",action:"",actionRemark:"",actionTemp:[],mainParamId:"",params:""})},delTableRow:function(e,t){"body"===e&&this.body.splice(t,1)},changeAction:function(e,t){e.actionType=t[0],e.action=t[1];for(var a=this.apiActionList,n=0;n<a.length;n++)if(0!==a[n].children.length&&a[n].value===t[0])for(var l=0;l<a[n].children.length;l++)if(a[n].children[l].value===t[1]){e.actionRemark=a[n].children[l].remark;break}},getApiActionList:function(){var e=this;Object(r["c"])().then((function(t){t.forEach((function(t){var a=t.name,n=t.key,l=[];t.sysDictValueList&&t.sysDictValueList.forEach((function(e){var t=e.key,a=e.key,n=e.name,i=e.remark;l.push({label:t,value:a,name:n,remark:i})})),e.apiActionList.push({label:a,value:n,children:l})}))}))}}},s=o,c=(a("7db5"),a("5511")),u=Object(c["a"])(s,n,l,!1,null,"60f24ec4",null);t["default"]=u.exports},"772e":function(e,t,a){"use strict";var n=a("988b"),l=a.n(n);l.a},7958:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticClass:"el-table-no-border",attrs:{data:e.headers,size:"mini","show-header":!1}},[a("el-table-column",{attrs:{property:"key",label:"Key","header-align":"center","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-autocomplete",{staticClass:"inline-input",staticStyle:{width:"100%"},attrs:{"fetch-suggestions":e.querySearch,placeholder:"请输入内容",size:"mini"},on:{select:function(a){return e.selectHeader(a,t.row)}},model:{value:t.row.key,callback:function(a){e.$set(t.row,"key",a)},expression:"scope.row.key"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"value",label:"Value","header-align":"center","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"value",rows:"1"},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","header-align":"center",width:"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.$index+1!==e.headers.length?a("el-button",{staticStyle:{padding:"5px 0px 5px"},attrs:{type:"text",icon:"el-icon-delete"},nativeOn:{click:function(a){return e.delTableRow("headers",t.$index)}}}):e._e()]}}])})],1)},l=[],i={props:["value"],data:function(){return{headerValues:[{value:"Content-Type"},{value:"Accept"},{value:"Accept-Encoding"},{value:"Accept-Charset"},{value:"Accept-Language"},{value:"Accept-Ranges"},{value:"Authorization"},{value:"Cache-Control"},{value:"Connection"},{value:"Cookie"}],headers:[]}},watch:{headers:{handler:function(e){0===this.headers.length?this.addTableRow("headers"):this.headers[this.headers.length-1]["key"]&&this.addTableRow("headers");for(var t=0;t<this.headers.length;t++){var a=this.headers[t];if(t!==this.headers.length-1&&!a.key){this.delTableRow("headers",t);break}}this.$emit("input",e)},deep:!0},value:{handler:function(e){this.headers=e||[{key:"",value:""}]},immediate:!0}},mounted:function(){},methods:{addTableRow:function(e){"headers"===e&&this.headers.push({key:"",value:""})},selectHeader:function(e,t){"Content-Type"===e.value&&(t.value="application/json;charset=UTF-8")},delTableRow:function(e,t){"headers"===e&&this.headers.splice(t,1)},querySearch:function(e,t){var a=this.headerValues,n=e?a.filter(this.createFilter(e)):a;t(n)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}}}},r=i,o=(a("ebab"),a("5511")),s=Object(o["a"])(r,n,l,!1,null,"59624b4e",null);t["default"]=s.exports},"7db5":function(e,t,a){"use strict";var n=a("7f0e"),l=a.n(n);l.a},"7f0e":function(e,t,a){},"8a04":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticClass:"el-table-no-border",attrs:{data:e.query,size:"mini","show-header":!1}},[a("el-table-column",{attrs:{property:"key",label:"Key","header-align":"center","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"key"},model:{value:t.row.key,callback:function(a){e.$set(t.row,"key",a)},expression:"scope.row.key"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"value",label:"Value","header-align":"center","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"value"},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","header-align":"center",width:"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.$index+1!==e.query.length?a("el-button",{staticStyle:{padding:"5px 0px 5px"},attrs:{type:"text",icon:"el-icon-delete"},nativeOn:{click:function(a){return e.delTableRow("query",t.$index)}}}):e._e()]}}])})],1)},l=[],i=(a("f548"),a("9a33"),{props:["reqQuery","path"],data:function(){return{urlPath:"",query:[{key:"",value:""}]}},watch:{path:{handler:function(e){if(this.urlPath=e,e&&-1!==e.indexOf("?")){var t=e.split("?");if(t.splice(0,1),t=t.join("?"),t){var a=t.split("&");if(a[0]){for(var n=[],l=0;l<a.length;l++)if(-1!==a[l].indexOf("=")){var i=a[l].split("="),r=i[0];i.splice(0,1),n.push({key:r,value:i.join("=")})}else n.push({key:a[l],value:""});this.query=n}}else this.query=[{key:"",value:""}]}else this.query=[{key:"",value:""}]},deep:!0,immediate:!0},query:{handler:function(e){0===e.length?this.addTableRow("query"):e[e.length-1]["key"]&&this.addTableRow("query");for(var t=0;t<e.length;t++){var a=e[t];if(t!==e.length-1&&!a.key&&!a.value){this.delTableRow("query",t);break}}var n="";for(var l in e)e[l].key.indexOf("=")&&(e[l].key=e[l].key.replace("=","")),e[l].value.indexOf("=")&&(e[l].value=e[l].value.replace("=","")),parseInt(l)+2===e.length&&e[l].key?e[l].value?n+=e[l].key+"="+e[l].value:n+=e[l].key:e[l].key&&(n+=e[l].key+"="+e[l].value+"&");"&"===n.substr(n.length-1,1)&&(n=n.substring(0,n.length-1)),"="===n.substr(n.length-1,1)&&(n=n.substring(0,n.length-1)),n&&this.urlPath?this.urlPath&&this.urlPath.length>0&&"="===this.urlPath.substr(this.urlPath.length-1,1)?this.urlPath=this.urlPath.split("?")[0]+"?"+n+"=":this.urlPath&&this.urlPath.length>0&&"&"===this.urlPath.substr(this.urlPath.length-1,1)?this.urlPath=this.urlPath.split("?")[0]+"?"+n+"&":this.urlPath=this.urlPath.split("?")[0]+"?"+n:this.urlPath&&(this.urlPath&&this.urlPath.length>0&&"?"===this.urlPath.substr(this.urlPath.length-1,1)?this.urlPath=this.urlPath.split("?")[0]+"?":this.urlPath=this.urlPath.split("?")[0]),this.$emit("callBack",e,this.urlPath)},deep:!0,immediate:!0},reqQuery:{handler:function(e){this.query=e||[{key:"",value:""}]},deep:!0,immediate:!0}},mounted:function(){},methods:{addTableRow:function(e){"query"===e&&this.query.push({key:"",value:"",remark:""})},delTableRow:function(e,t){"query"===e&&this.query.splice(t,1)}}}),r=i,o=(a("2934"),a("5511")),s=Object(o["a"])(r,n,l,!1,null,"13acaf6c",null);t["default"]=s.exports},"96ea":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-radio-group",{staticStyle:{"margin-top":"0px","margin-bottom":"10px"},model:{value:e.apiData.reqBodyType,callback:function(t){e.$set(e.apiData,"reqBodyType",t)},expression:"apiData.reqBodyType"}},[a("el-radio",{attrs:{label:"form"}},[e._v("form")]),e._v(" "),a("el-radio",{attrs:{label:"raw"}},[e._v("raw")]),e._v(" "),a("el-radio",{attrs:{label:"text"}},[e._v("文本")])],1),e._v(" "),"form"===e.apiData.reqBodyType?a("requestBodyFrom",{model:{value:e.apiData.reqBodyData,callback:function(t){e.$set(e.apiData,"reqBodyData",t)},expression:"apiData.reqBodyData"}}):e._e(),e._v(" "),"raw"===e.apiData.reqBodyType?a("requestBodyRaw",{model:{value:e.apiData.reqBodyJson,callback:function(t){e.$set(e.apiData,"reqBodyJson",t)},expression:"apiData.reqBodyJson"}}):e._e()],1)},l=[],i=a("2f9d"),r=a("49ee"),o={components:{requestBodyFrom:i["default"],requestBodyRaw:r["default"]},props:["value"],data:function(){return{activaName:"Query",apiData:{}}},watch:{value:{handler:function(e){this.apiData=e||{}},deep:!0,immediate:!0},apiData:function(e){this.$emit("input",e)}},mounted:function(){},methods:{}},s=o,c=a("5511"),u=Object(c["a"])(s,n,l,!1,null,"0ae42828",null);t["default"]=u.exports},"977c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"card-main "},[a("div",{staticClass:"box-card",attrs:{shadow:"never"}},[a("el-form",{ref:"addOrEditForm",attrs:{model:e.apiData,"label-position":"right",rules:e.rules,size:"small"}},[a("el-row",{staticStyle:{"margin-bottom":"5px"}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"步骤名称：","label-width":"83px",prop:"name"}},[a("el-input",{staticStyle:{width:"85%"},attrs:{placeholder:"请输入接口名称"},model:{value:e.apiData.name,callback:function(t){e.$set(e.apiData,"name",t)},expression:"apiData.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"关联接口：","label-width":"83px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:"",placeholder:"请输入接口名称"},model:{value:e.apiData.api.name,callback:function(t){e.$set(e.apiData.api,"name",t)},expression:"apiData.api.name"}})],1)],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-bottom":"5px"}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"环境域名：",prop:"domain","label-width":"83px"}},[a("el-input",{staticStyle:{width:"85%"},attrs:{placeholder:"协议+域名"},model:{value:e.apiData.domain,callback:function(t){e.$set(e.apiData,"domain",t)},expression:"apiData.domain"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10}})],1),e._v(" "),a("el-form-item",{attrs:{label:"接口路径：","label-width":"83px",prop:"path"}},[a("el-input",{staticStyle:{width:"96%"},attrs:{placeholder:"请输入内容"},model:{value:e.apiData.path,callback:function(t){e.$set(e.apiData,"path",t)},expression:"apiData.path"}},[a("el-select",{staticStyle:{width:"95px"},attrs:{slot:"prepend",disabled:"",placeholder:"请选择"},slot:"prepend",model:{value:e.apiData.method,callback:function(t){e.$set(e.apiData,"method",t)},expression:"apiData.method"}},[a("el-option",{attrs:{label:"GET",value:"GET"}}),e._v(" "),a("el-option",{attrs:{label:"POST",value:"POST"}}),e._v(" "),a("el-option",{attrs:{label:"PUT",value:"PUT"}}),e._v(" "),a("el-option",{attrs:{label:"DELETE",value:"DELETE"}}),e._v(" "),a("el-option",{attrs:{label:"HEAD",value:"HEAD"}}),e._v(" "),a("el-option",{attrs:{label:"OPTIONS",value:"OPTIONS"}}),e._v(" "),a("el-option",{attrs:{label:"PATCH",value:"PATCH"}})],1)],1)],1)],1)],1),e._v(" "),a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{ref:"params",attrs:{label:"Params",name:"reqQuery"}},[a("requestQuery",{attrs:{path:e.apiData.path,"req-query":e.apiData.reqQuery},on:{callBack:e.changeQuery}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"Header",name:"reqHeader"}},[a("requestHeaders",{model:{value:e.apiData.reqHeader,callback:function(t){e.$set(e.apiData,"reqHeader",t)},expression:"apiData.reqHeader"}})],1),e._v(" "),"GET"!==e.apiData.method?a("el-tab-pane",{attrs:{label:"Body",name:"reqBody"}},[a("requestBody",{model:{value:e.apiData,callback:function(t){e.apiData=t},expression:"apiData"}})],1):e._e(),e._v(" "),a("el-tab-pane",{attrs:{label:"断言",name:"response-assert"}},[a("responseAssert",{model:{value:e.apiData.reqAssert,callback:function(t){e.$set(e.apiData,"reqAssert",t)},expression:"apiData.reqAssert"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"参数提取",name:"response-extract"}},[a("responseExtract",{model:{value:e.apiData.reqExtract,callback:function(t){e.$set(e.apiData,"reqExtract",t)},expression:"apiData.reqExtract"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"前置处理器",name:"before-excs"}},[a("ApiActionExcList",{model:{value:e.apiData.beforeExcs,callback:function(t){e.$set(e.apiData,"beforeExcs",t)},expression:"apiData.beforeExcs"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"附件",name:"file"}},[a("actionFileList",{ref:"actionFileList"})],1)],1),e._v(" "),a("MyFoot",{attrs:{"z-index":2,"sticky-bottom":0,"class-name":"sub-navbar my-foot-api-edit"}},[a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{staticStyle:{"font-size":"14px","padding-left":"25px","padding-right":"25px"},attrs:{size:"small",type:"primary"},on:{click:e.editApi}},[e._v("保存并关闭")])],1)])],1)},l=[],i=a("0cea"),r=a("4d33"),o=a("96ea"),s=a("3fa5"),c=a("18c9"),u=a("7958"),d=a("8a04"),p=a("e70c"),f=a("19c4"),h=a("ca2d"),b=a("737b"),m={components:{MyFoot:r["a"],requestHeaders:u["default"],requestQuery:d["default"],requestBody:o["default"],responseExtract:p["default"],responseAssert:f["default"],actionFileList:h["default"],ApiActionExcList:b["default"]},props:["apiData"],data:function(){return{apiDrawer:!1,activeName:"reqQuery",loading:!1,apiSuiteList:[],apiEnvList:[],rules:{name:[{required:!0,message:"步骤名称不能为空",trigger:"blur"}],domain:[{required:!0,message:"协议+域名为空",trigger:"blur"}],path:[{required:!0,message:"接口路径不能为空",trigger:"blur"}]}}},watch:{"apiData.method":function(){"GET"===this.apiData.method&&"reqBody"===this.activeName&&(this.activeName="reqQuery")}},mounted:function(){var e=this;Object(c["d"])(this.$store.getters.projectId).then((function(t){e.apiEnvList=t||[]})),this.$nextTick((function(){e.$refs.actionFileList.init(e.apiData.id,4)}))},methods:{changeQuery:function(e,t){this.apiData.reqQuery=e,this.apiData.path=t},editApi:function(){var e=this;this.$refs["addOrEditForm"].validate((function(t){if(t){e.loading=!0;var a=JSON.parse(JSON.stringify(e.apiData));a.reqBodyData&&a.reqBodyData.length>0&&!a.reqBodyData[a.reqBodyData.length-1].key&&a.reqBodyData.splice(a.reqBodyData.length-1,1),a.reqHeader&&a.reqHeader.length>0&&!a.reqHeader[a.reqHeader.length-1].key&&a.reqHeader.splice(a.reqHeader.length-1,1),a.reqQuery&&a.reqQuery.length>0&&!a.reqQuery[a.reqQuery.length-1].key&&a.reqQuery.splice(a.reqQuery.length-1,1),a.beforeExcs&&a.beforeExcs.length>0&&!a.beforeExcs[a.beforeExcs.length-1].key&&a.beforeExcs.splice(a.beforeExcs.length-1,1),Object(i["k"])(a).then((function(t){e.$emit("stepApiSave",a),e.loading=!1,Object(s["a"])("修改数据成功")}))}}))}}},v=m,y=(a("772e"),a("5511")),x=Object(y["a"])(v,n,l,!1,null,"f095ee88",null);t["default"]=x.exports},"988b":function(e,t,a){},"9e24":function(e,t,a){},a297:function(e,t,a){"use strict";var n=a("0fa8"),l=a.n(n);l.a},a5b5:function(e,t,a){},ca2d:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{attrs:{data:e.fileList,border:"","max-height":"200",size:"mini"}},[a("el-table-column",{attrs:{align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.name)+"\n      ")]}}])},[a("template",{slot:"header"},[a("el-button",{staticClass:"el-icon-circle-plus",staticStyle:{padding:"4px 0px"},attrs:{type:"text",size:"mini"},on:{click:function(t){e.dialogVisible=!0}}}),e._v("\n        文件名称\n      ")],1)],2),e._v(" "),a("el-table-column",{attrs:{label:"文件类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.contentType)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"el-icon-delete",staticStyle:{padding:"2px"},attrs:{type:"text",size:"mini"},on:{click:function(a){return e.deleteFile(t.row.id)}}}),e._v(" "),a("el-button",{staticClass:"el-icon-download",staticStyle:{padding:"2px"},attrs:{type:"text",size:"mini"},on:{click:function(a){return e.downloadFile(t.row)}}})]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"文件导入","close-on-click-modal":!1,visible:e.dialogVisible,width:"410px",center:""},on:{"update:visible":function(t){e.dialogVisible=t},close:function(t){return e.closeDialog()}}},[a("el-form",{ref:"uploadForm",attrs:{model:e.uploadInfo,"label-position":"right",size:"mini",rules:e.rules}},[a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入文件名称"},model:{value:e.uploadInfo.name,callback:function(t){e.$set(e.uploadInfo,"name",t)},expression:"uploadInfo.name"}})],1)],1),e._v(" "),a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.uploadLoading,expression:"uploadLoading"}],ref:"upload",attrs:{"show-file-list":!1,drag:"","http-request":e.fileUpload,action:"#",multiple:""}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip",center:""},slot:"tip"},[e._v("文件不能超过10M")])])],1)],1)},l=[],i=a("b775"),r=function(e){return Object(i["e"])("/file/list",e)},o=function(e){return Object(i["g"])("/file/upload",e)},s=function(e){return Object(i["b"])("/file/"+e)},c={data:function(){return{dialogVisible:!1,uploadLoading:!1,rules:{name:[{required:!0,message:"文件名不能为空",trigger:"blur"}]},uploadInfo:{name:"",sourceType:1,sourceId:0,projectId:this.$store.getters.projectId},fileList:[]}},methods:{init:function(e,t){e&&(t&&(this.uploadInfo.sourceType=t),this.uploadInfo.sourceId=e,this.getFiles())},downloadFile:function(e){var t=document.createElement("a");t.style.display="none",t.href="/public/profile/system/"+e.path,t.download="",document.body.appendChild(t),t.click(),document.body.removeChild(t)},fileUpload:function(e){var t=this;this.$refs["uploadForm"].validate((function(a){if(a){var n=e.file,l=n.size<10485760;if(!l)return t.$message.warning("请上传10M以下的zip文件"),!1;var i=new FormData;i.append("files",n),i.append("fileInfo",JSON.stringify(t.uploadInfo)),t.uploadLoading=!0,o(i).then((function(e){t.$message({type:"success",message:"上传成功!"}),t.getFiles(),t.$refs["upload"].clearFiles(),t.dialogVisible=!1})).finally((function(){t.uploadLoading=!1}))}}))},deleteFile:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){s(e).then((function(e){t.$message({type:"success",message:"删除成功!"}),t.getFiles()}))})).catch((function(){t.$message({type:"success",message:"已取消删除"})}))},closeDialog:function(){this.$refs["upload"].clearFiles(),this.uploadInfo.name=""},getFiles:function(){var e=this;r({sourceType:this.uploadInfo.sourceType,sourceId:this.uploadInfo.sourceId}).then((function(t){e.fileList=t||[]}))}}},u=c,d=a("5511"),p=Object(d["a"])(u,n,l,!1,null,null,null);t["default"]=p.exports},da50:function(e,t,a){},e70c:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{attrs:{data:e.extract,border:"",size:"mini"}},[a("el-table-column",{attrs:{property:"dataSource",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",placeholder:"响应类型"},model:{value:t.row.dataSource,callback:function(a){e.$set(t.row,"dataSource",a)},expression:"scope.row.dataSource"}},[a("el-option",{attrs:{label:"响应体(JSON)",value:"bodyJson"}}),e._v(" "),a("el-option",{attrs:{label:"响应体(XML)",value:"bodyXml"}}),e._v(" "),a("el-option",{attrs:{label:"响应体(正则)",value:"bodyReg"}}),e._v(" "),a("el-option",{attrs:{label:"响应码",value:"code"}}),e._v(" "),a("el-option",{attrs:{label:"响应头",value:"header"}})],1)]}}])},[a("template",{slot:"header"},[a("span",{staticClass:"required"},[e._v("\n        数据源\n        "),a("el-button",{staticClass:"el-icon-circle-plus",staticStyle:{padding:"4px 0px"},attrs:{type:"text",size:"mini"},on:{click:function(t){return e.addTableRow("extract")}}})],1)])],2),e._v(" "),a("el-table-column",{attrs:{property:"extractExpress",label:"提取表达式",align:"center","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"提取表达式"},model:{value:t.row.extractExpress,callback:function(a){e.$set(t.row,"extractExpress",a)},expression:"scope.row.extractExpress"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"varName",label:"变量名称",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"变量名称"},model:{value:t.row.varName,callback:function(a){e.$set(t.row,"varName",a)},expression:"scope.row.varName"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"5px 0px 5px"},attrs:{type:"text",icon:"el-icon-delete"},nativeOn:{click:function(a){return e.delTableRow("extract",t.$index)}}})]}}])})],1)},l=[],i={props:["value"],data:function(){return{extract:[{dataSource:"bodyJson",extractExpress:"",varName:""}]}},watch:{extract:{handler:function(e){this.$emit("input",e)},deep:!0},value:{handler:function(e){this.extract=e||[]},immediate:!0}},mounted:function(){},methods:{addTableRow:function(e){"extract"===e&&this.extract.push({dataSource:"bodyJson",extractExpress:"",varName:""})},delTableRow:function(e,t){"extract"===e&&this.extract.splice(t,1)}}},r=i,o=(a("32fd"),a("5511")),s=Object(o["a"])(r,n,l,!1,null,"6fea3b48",null);t["default"]=s.exports},ebab:function(e,t,a){"use strict";var n=a("a5b5"),l=a.n(n);l.a}}]);