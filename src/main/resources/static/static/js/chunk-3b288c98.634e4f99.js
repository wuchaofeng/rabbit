(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b288c98","chunk-57780d2a","chunk-2d21eb0b"],{"2d7a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"report-main",staticStyle:{"margin-bottom":"10px"}},[a("div",{staticClass:"plan-detail"},[a("el-row",[a("el-col",{staticClass:"label",attrs:{span:6}},[e._v("用例名称")]),e._v(" "),a("el-col",{attrs:{span:18}},[e._v(e._s(e.debugInfo.caseName||"-"))])],1),e._v(" "),a("el-row",[a("el-col",{staticClass:"label",attrs:{span:6}},[e._v("开始时间")]),e._v(" "),a("el-col",{attrs:{span:6}},[e._v(e._s(e.debugInfo.createTime||"-"))]),e._v(" "),a("el-col",{staticClass:"label",attrs:{span:6}},[e._v("用时")]),e._v(" "),a("el-col",{attrs:{span:6}},[e._v(e._s(e.getDifftime(e.debugInfo.createTime,e.debugInfo.endTime)))])],1),e._v(" "),a("el-row",[a("el-col",{staticClass:"label",attrs:{span:6}},[e._v("用例总数")]),e._v(" "),a("el-col",{staticClass:"label",attrs:{span:6}},[e._v("用例成功数")]),e._v(" "),a("el-col",{staticClass:"label",attrs:{span:6}},[e._v("用例失败数")]),e._v(" "),a("el-col",{staticClass:"label",attrs:{span:6}},[e._v("用例成功率")])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:6}},[e._v(e._s(e.debugInfo.total||0))]),e._v(" "),a("el-col",{attrs:{span:6}},[e._v(e._s(e.debugInfo.success||0))]),e._v(" "),a("el-col",{attrs:{span:6}},[e._v(e._s(e.debugInfo.failed||0))]),e._v(" "),a("el-col",{attrs:{span:6}},[e._v(e._s(e.getRate(e.debugInfo.success||0,e.debugInfo.total||0)))])],1)],1),e._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[e._v("测试步骤")]),e._v(" "),a("el-table",{staticStyle:{width:"auto"},attrs:{data:e.debugInfo.steps,border:"",stripe:"",size:"small"}},[a("el-table-column",{attrs:{align:"center",label:"步骤名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.stepName))]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"120",align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[-1===t.row.resultType?a("el-tag",{attrs:{size:"small",type:"danger"}},[e._v(e._s("执行异常"))]):e._e(),e._v(" "),0===t.row.resultType?a("el-tag",{attrs:{size:"small",type:"danger"}},[e._v(e._s("断言失败"))]):e._e(),e._v(" "),1===t.row.resultType?a("el-tag",{attrs:{size:"small"}},[e._v(e._s("执行成功"))]):e._e(),e._v(" "),2===t.row.resultType?a("el-tag",{attrs:{size:"small",type:"info"}},[e._v(e._s("跳过"))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"220",align:"center",label:"请求时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.createTime))]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"180",align:"center",label:"耗时"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s((t.row.rspTime||0)+"毫秒"))]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"180",align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.openDebugResult(t.row)}}},[e._v("查看详情")])]}}])})],1),e._v(" "),a("apiDebug",{ref:"apiDebug"})],1)},l=[],r=a("cf45"),s=a("d746"),o={components:{apiDebug:s["default"]},data:function(){return{debugInfo:{}}},computed:{},mounted:function(){},methods:{init:function(e){this.debugInfo=e},getDifftime:function(e,t){return Object(r["a"])(e,t)},openDebugResult:function(e){this.$refs.apiDebug.init(e)},getRate:function(e,t){return Object(r["b"])(e,t)},formatJson:function(e){try{var t=JSON.parse(e);return JSON.stringify(t,null,2)}catch(a){return e}}}},i=o,c=(a("3ab8"),a("5511")),u=Object(c["a"])(i,n,l,!1,null,"6b31149a",null);t["default"]=u.exports},"2ddc":function(e,t,a){},"3ab8":function(e,t,a){"use strict";var n=a("2ddc"),l=a.n(n);l.a},"5b3b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-backtop",{attrs:{bottom:60,right:60,"visibility-height":150}},[a("div",{staticStyle:{"{\n      height":"100%",width:"100%","background-color":"#e7eaf1","text-align":"center","line-height":"40px","border-radius":"4px"}},[a("svg",{staticClass:"Icon Icon--backToTopArrow",staticStyle:{height:"16px",width:"16px",fill:"#9aaabf"},attrs:{width:"16",height:"16",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"}},[a("path",{attrs:{d:"M12.036 15.59a1 1 0 0 1-.997.995H5.032a.996.996 0 0 1-.997-.996V8.584H1.03c-1.1 0-1.36-.633-.578-1.416L7.33.29a1.003 1.003 0 0 1 1.412 0l6.878 6.88c.782.78.523 1.415-.58 1.415h-3.004v7.004z"}})])])]),e._v(" "),a("el-card",{staticClass:"box-card card-main",attrs:{shadow:"never","body-style":"padding-top:0px;"}},[a("el-tabs",{attrs:{lazy:""},on:{"tab-remove":e.removeTab},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"用例详情",name:"publicApi"}},[a("caseDetail",{ref:"caseDetail",on:{editApi:e.openEditApi,closeApi:e.removeTab,debug:e.openDebug}})],1),e._v(" "),e.debugFlag?a("el-tab-pane",{attrs:{label:"调试结果",name:"debugResult"}},[a("debugResult",{ref:"debugResult",on:{editApi:e.openEditApi,closeApi:e.removeTab}})],1):e._e(),e._v(" "),e._l(e.apiStepTabs,(function(t){return a("el-tab-pane",{key:t.key,attrs:{closable:"",label:"步骤:"+t.name,name:t.key}},[a("editStepApi",{attrs:{"api-data":t.data},on:{stepApiSave:e.refreshSteps}})],1)}))],2)],1)],1)},l=[],r=(a("cc57"),a("30de")),s=a("977c"),o=a("2d7a"),i={components:{caseDetail:r["default"],editStepApi:s["default"],debugResult:o["default"]},data:function(){return{debugFlag:!1,activeName:"publicApi",apiStepTabs:[]}},computed:{},mounted:function(){},methods:{refreshSteps:function(e){1===e.type&&this.removeTab("引用api步骤-"+e.id),this.$refs.caseDetail.refreshSteps()},openDebug:function(e){var t=this;this.debugFlag=!0,this.activeName="debugResult",this.$nextTick((function(){t.$refs.debugResult.init(e)}))},openEditApi:function(e){e=JSON.parse(JSON.stringify(e||{}));for(var t={key:"引用api步骤-"+e.id,name:e.name,data:e},a=!1,n=0;n<this.apiStepTabs.length;n++){var l=this.apiStepTabs[n];if(l.key===t.key&l.name===t.name){a=!0;break}}a||this.apiStepTabs.push(t),this.activeName=t.key},removeTab:function(e){this.activeName===e&&(this.activeName="publicApi"),this.apiStepTabs=this.apiStepTabs.filter((function(t){return t.key!==e}))}}},c=i,u=a("5511"),p=Object(u["a"])(c,n,l,!1,null,"6c09547a",null);t["default"]=p.exports},cf45:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return l}));var n=function(e,t){return e=parseFloat(e),t=parseFloat(t),isNaN(e)||isNaN(t)?"-":t<=0?"0%":Math.round(e/t*1e4)/100+"%"},l=function(e,t){if(!e||!t)return"0秒";var a=Date.parse(e),n=Date.parse(t),l=n-a,r=Math.floor(l/864e5),s=l%864e5,o=Math.floor(s/36e5),i=s%36e5,c=Math.floor(i/6e4),u=i%6e4,p=Math.floor(u/1e3),d=u%1e3,v=Math.floor(d);return r+""==="0"&o+""==="0"&c+""==="0"&p+""==="0"?v+"毫秒":r+""==="0"&o+""==="0"&c+""==="0"?p+"秒"+v+"毫秒":r+""==="0"&o+""==="0"?c+"分钟 "+p+"秒"+v+"毫秒":r+""==="0"?o+"小时 "+c+"分钟 "+p+"秒"+v+"毫秒":r+"天 "+o+"小时 "+c+"分钟 "+p+"秒"+v+"毫秒"}},d746:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{attrs:{title:e.title,"append-to-body":"",visible:e.apiDebugDrawer,direction:"rtl",size:"1000px"},on:{"update:visible":function(t){e.apiDebugDrawer=t}}},[a("el-tabs",{staticClass:"debug-result-tabls",on:{"tab-click":e.handleClick},model:{value:e.tablesActiveName,callback:function(t){e.tablesActiveName=t},expression:"tablesActiveName"}},[a("el-tab-pane",{attrs:{label:"请求信息",name:"request"}},[a("div",{staticStyle:{overflow:"auto",height:"calc(100vh - 120px)","padding-right":"20px"}},[a("el-row",{staticStyle:{"margin-bottom":"10px"}},[a("el-tag",{attrs:{effect:"dark",size:"small",type:"success"}},[e._v(" "+e._s(e.debugInfo.reqMethod))]),e._v(" "),a("span",{staticStyle:{"font-size":"14px"}},[e._v(e._s(" "+e.debugInfo.reqUrl))])],1),e._v(" "),a("el-collapse",{model:{value:e.reqActiveNames,callback:function(t){e.reqActiveNames=t},expression:"reqActiveNames"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[a("b",[e._v("headers")])]),e._v(" "),e._l(e.debugInfo.reqHeaders,(function(t,n){return a("div",{key:n},[a("span",[a("b",[e._v(e._s(t.key+"："))]),e._v("\n                "+e._s(t.value)+"\n              ")]),a("br")])}))],2),e._v(" "),a("el-collapse-item",{attrs:{name:"2"}},[a("template",{slot:"title"},[a("b",[e._v("params")])]),e._v(" "),e._l(e.debugInfo.reqQuery,(function(t,n){return a("div",{key:n},[a("span",[a("b",[e._v(e._s(t.key+"："))]),e._v("\n                "+e._s(t.value)+"\n              ")]),a("br")])}))],2),e._v(" "),"GET"!==e.debugInfo.reqMethod?a("el-collapse-item",{attrs:{name:"3"}},[a("template",{slot:"title"},[a("b",[e._v(e._s("raw"===e.debugInfo.reqBodyType?"body":"bodyForm"))])]),e._v(" "),"raw"===e.debugInfo.reqBodyType?a("pre",[e._v(e._s(e.formatJson(e.debugInfo.reqBodyJson)))]):e._e(),e._v(" "),"raw"!==e.debugInfo.reqBodyType?a("div",e._l(e.debugInfo.reqBodyData,(function(t,n){return a("div",{key:n},[a("span",[a("b",[e._v(e._s(t.key+"："))]),e._v("\n                  "+e._s(t.value)+"\n                ")]),a("br")])})),0):e._e()],2):e._e()],1)],1)]),e._v(" "),a("el-tab-pane",{attrs:{label:"响应信息",name:"responseInfo"}},[a("div",{staticStyle:{overflow:"auto",height:"calc(100vh - 120px)","padding-right":"20px"}},[a("el-row",{staticStyle:{"margin-bottom":"10px"}},[a("el-tag",{attrs:{effect:"dark",size:"small",type:"success"}},[e._v(" "+e._s(e.debugInfo.rspStatusCode))]),e._v(" "),a("el-tag",{attrs:{effect:"plain",size:"small",type:"success"}},[e._v(" "+e._s("响应时间："+e.debugInfo.rspTime+" 毫秒"))]),e._v(" "),a("el-tag",{attrs:{effect:"plain",size:"small",type:"info"}},[e._v(" "+e._s("body长度："+e.debugInfo.rspBodySize))])],1),e._v(" "),a("el-collapse",{model:{value:e.rspActiveNames,callback:function(t){e.rspActiveNames=t},expression:"rspActiveNames"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[a("b",[e._v("body")])]),e._v(" "),a("pre",[e._v(e._s(e.debugInfo.rspBody))])],2),e._v(" "),a("el-collapse-item",{attrs:{name:"2"}},[a("template",{slot:"title"},[a("b",[e._v("headers")])]),e._v(" "),e._l(e.debugInfo.rspHeaders,(function(t,n){return a("div",{key:n},[a("span",[a("b",[e._v(e._s(t.key+"："))]),e._v("\n                "+e._s(t.value)+"\n              ")]),a("br")])}))],2)],1)],1)]),e._v(" "),a("el-tab-pane",{attrs:{label:"验证结果",name:"rspResult"}},[a("div",{staticStyle:{"margin-right":"20px",overflow:"auto",height:"calc(100vh - 120px)"}},[a("el-divider",{attrs:{"content-position":"left"}},[e._v("断言结果")]),e._v(" "),a("el-table",{attrs:{data:e.debugInfo.rspAsserts,border:"",size:"mini"}},[a("el-table-column",{attrs:{property:"dataSource",label:"数据源",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s("bodyJson"===t.row.dataSource?"响应体(JSON)":"")+"\n              "+e._s("bodyXml"===t.row.dataSource?"响应体(XML)":"")+"\n              "+e._s("bodyReg"===t.row.dataSource?"响应体(正则)":"")+"\n              "+e._s("code"===t.row.dataSource?"响应码":"")+"\n              "+e._s("header"===t.row.dataSource?"响应头":"")+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"extractExpress","show-overflow-tooltip":"",label:"提取表达式",align:"center","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.extractExpress)+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"expectRelation",label:"期望关系",align:"center","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.expectRelation)+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"extractType",label:"期望类型",align:"center",width:"75"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s("string"===t.row.extractType?"字符串":"")+"\n              "+e._s("number"===t.row.extractType?"数值":"")+"\n              "+e._s("boolean"===t.row.extractType?"布尔值":"")+"\n              "+e._s("null"===t.row.extractType?"Null":"")+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"expectValue","show-overflow-tooltip":"",label:"期望值",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.expectValue)+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"realType",label:"实际类型",align:"center",width:"75"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s("string"===t.row.realType?"字符串":"")+"\n              "+e._s("number"===t.row.realType?"数值":"")+"\n              "+e._s("boolean"===t.row.realType?"布尔值":"")+"\n              "+e._s("null"===t.row.realType?"Null":"")+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"realValue",label:"实际值","show-overflow-tooltip":"",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.realValue)+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"realValue",label:"检验结果",align:"center","min-width":"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.result?a("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("成功")]):a("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v("失败")])]}}])})],1),e._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[e._v("参数提取")]),e._v(" "),a("el-table",{attrs:{data:e.debugInfo.rspExtracts,border:"",size:"mini"}},[a("el-table-column",{attrs:{property:"dataSource",label:"数据源",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s("bodyJson"===t.row.dataSource?"响应体(JSON)":"")+"\n              "+e._s("bodyXml"===t.row.dataSource?"响应体(XML)":"")+"\n              "+e._s("bodyReg"===t.row.dataSource?"响应体(正则)":"")+"\n              "+e._s("code"===t.row.dataSource?"响应码":"")+"\n              "+e._s("header"===t.row.dataSource?"响应头":"")+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"extractExpress",label:"提取表达式","show-overflow-tooltip":"",align:"center","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.extractExpress)+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"varName",label:"变量名称","show-overflow-tooltip":"",align:"center","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.varName)+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"realValue",label:"实际值","show-overflow-tooltip":"",align:"center","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.realValue)+"\n            ")]}}])})],1)],1)]),e._v(" "),a("el-tab-pane",{attrs:{label:"异常信息",name:"exception"}},[a("div",{staticStyle:{overflow:"auto",height:"calc(100vh - 120px)"}},[e.debugInfo.exception?a("div",{staticStyle:{"margin-left":"20px"}},[e._v(e._s(e.debugInfo.exception))]):a("div",{staticStyle:{width:"100%",margin:"10px 10px 10px 20px"}},[e._v("没有异常信息")])])])],1)],1)},l=[],r=(a("cc57"),{components:{},data:function(){return{title:"调试结果",apiDebugDrawer:!1,debugInfo:{},tablesActiveName:"responseInfo",reqActiveNames:["1","2","3","4","5"],rspActiveNames:["1","2","3","4","5"]}},computed:{},mounted:function(){},methods:{init:function(e,t){this.title=t?"测试结果":"调试结果",-1===e.resultType?this.tablesActiveName="exception":0===e.resultType?this.tablesActiveName="rspResult":this.tablesActiveName="responseInfo",this.reqActiveNames=["1","2","3","4","5"],this.rspActiveNames=["1","2","3","4","5"],this.apiDebugDrawer=!0,this.debugInfo=e},handleClick:function(e,t){console.log(e,t)},coverJson:function(e){try{return JSON.parse(e)}catch(t){return e}},formatJson:function(e){try{var t=JSON.parse(e);return JSON.stringify(t,null,2)}catch(a){return e}},formatData:function(e,t){try{for(var a=JSON.parse(e),n="",l=0;l<a.length;l++){var r=a[l];n="name"===t?n+r.name+": "+r.value+"\r\n":n+r.key+": "+r.value+"\r\n"}return n}catch(s){return e}}}}),s=r,o=a("5511"),i=Object(o["a"])(s,n,l,!1,null,"bc019af4",null);t["default"]=i.exports}}]);