(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e3219ea","chunk-5e886954","chunk-2d21eb0b"],{"23ed":function(e,t,a){},"674a":function(e,t,a){"use strict";var n=a("af87"),r=a.n(n);r.a},"84d4":function(e,t,a){"use strict";var n=a("23ed"),r=a.n(n);r.a},"8f50":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"box-card card-my",attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.serchData,"label-width":"90px","label-position":"right",size:"mini"}},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.serchData.status,callback:function(t){e.$set(e.serchData,"status",t)},expression:"serchData.status"}},[a("el-radio-button",{attrs:{label:""},nativeOn:{click:function(t){return e.clickRadio(t,-1)}}},[e._v("全部")]),e._v(" "),a("el-radio-button",{attrs:{label:0},nativeOn:{click:function(t){return e.clickRadio(t,0)}}},[e._v("成功")]),e._v(" "),a("el-radio-button",{attrs:{label:1},nativeOn:{click:function(t){return e.clickRadio(t,1)}}},[e._v("失败")]),e._v(" "),a("el-radio-button",{attrs:{label:2},nativeOn:{click:function(t){return e.clickRadio(t,2)}}},[e._v("跳过")])],1)],1)])],1),e._v(" "),a("el-tree",{ref:"tree",staticClass:"api-suite-list",attrs:{"node-key":"rowKey",data:e.dataList,accordion:"",props:e.defaultProps,"highlight-current":""},on:{"node-click":function(t){return e.selectRow(t,!0)}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node,r=t.data;return a("span",{staticClass:"custom-tree-node"},[a("div",[0===r.status?a("i",{staticClass:"el-icon-success",staticStyle:{color:"rgb(64, 158, 255)"}}):e._e(),e._v(" "),0!==r.status?a("i",{staticClass:"el-icon-warning",staticStyle:{color:"rgb(224, 77, 77)"}}):e._e(),e._v(" "),a("span",[e._v(e._s(" "+n.label))])]),e._v(" "),a("span",[e._v(e._s("耗时："+e.getDifftime(r.createTime,r.endTime)))])])}}])})],1)]),e._v(" "),a("el-col",{attrs:{span:16}},[a("caseSteps",{ref:"caseSteps"})],1)],1)},r=[],s=(a("6d57"),a("97a6")),i=a("cf45"),l=a("e8fe"),o={components:{caseSteps:l["default"]},data:function(){return{loading:!1,serchData:{status:"",planLogId:this.$route.query.id},dataList:[],defaultProps:{children:"children",label:"name"}}},computed:{},mounted:function(){this.$route.query.id&&this.getDataList()},methods:{clickRadio:function(e,t){"INPUT"!==e.target.tagName&&(this.serchData.status=-1===t?"":t,this.getDataList())},selectRow:function(e){var t=this;2===e.type&&this.$nextTick((function(){t.$refs.caseSteps.searchList(e.id)}))},getDifftime:function(e,t){return Object(i["a"])(e,t)},getRate:function(e,t){return Object(i["b"])(e,t)},searchList:function(){this.getDataList()},getDataList:function(){var e=this;this.loading=!0,Object(s["f"])(this.serchData).then((function(t){e.dataList=[],t.forEach((function(t){var a=[];t.caseResults&&t.caseResults.forEach((function(e){a.push({rowKey:t.id+"-"+e.id,id:e.id,name:e.caseName,status:e.status,createTime:e.createTime,endTime:e.endTime,type:2})})),e.dataList.push({rowKey:t.id+"",id:t.id,name:t.suiteName,status:t.status,createTime:t.createTime,endTime:t.endTime,type:1,children:a})})),e.loading=!1}))}}},c=o,u=(a("674a"),a("5511")),d=Object(u["a"])(c,n,r,!1,null,"6370d473",null);t["default"]=d.exports},"97a6":function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"f",(function(){return l})),a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return c}));var n=a("b775"),r=function(e){return Object(n["d"])("/apiReport/planListPage",e,!1)},s=function(e){return Object(n["d"])("/apiReport/planById/"+e)},i=function(e){return Object(n["b"])("/apiReport/removePlan/"+e,"",!1)},l=function(e){return Object(n["d"])("/apiReport/suiteList",e)},o=function(e){return Object(n["d"])("/apiReport/suiteInfo/"+e)},c=function(e){return Object(n["d"])("/apiReport/stepList",e)}},af87:function(e,t,a){},cf45:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e,t){return e=parseFloat(e),t=parseFloat(t),isNaN(e)||isNaN(t)?"-":t<=0?"0%":Math.round(e/t*1e4)/100+"%"},r=function(e,t){if(!e||!t)return"0秒";var a=Date.parse(e),n=Date.parse(t),r=n-a,s=Math.floor(r/864e5),i=r%864e5,l=Math.floor(i/36e5),o=i%36e5,c=Math.floor(o/6e4),u=o%6e4,d=Math.floor(u/1e3),p=u%1e3,f=Math.floor(p);return s+""==="0"&l+""==="0"&c+""==="0"&d+""==="0"?f+"毫秒":s+""==="0"&l+""==="0"&c+""==="0"?d+"秒"+f+"毫秒":s+""==="0"&l+""==="0"?c+"分钟 "+d+"秒"+f+"毫秒":s+""==="0"?l+"小时 "+c+"分钟 "+d+"秒"+f+"毫秒":s+"天 "+l+"小时 "+c+"分钟 "+d+"秒"+f+"毫秒"}},d746:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{attrs:{title:e.title,"append-to-body":"",visible:e.apiDebugDrawer,direction:"rtl",size:"1000px"},on:{"update:visible":function(t){e.apiDebugDrawer=t}}},[a("el-tabs",{staticClass:"debug-result-tabls",on:{"tab-click":e.handleClick},model:{value:e.tablesActiveName,callback:function(t){e.tablesActiveName=t},expression:"tablesActiveName"}},[a("el-tab-pane",{attrs:{label:"请求信息",name:"request"}},[a("div",{staticStyle:{overflow:"auto",height:"calc(100vh - 120px)","padding-right":"20px"}},[a("el-row",{staticStyle:{"margin-bottom":"10px"}},[a("el-tag",{attrs:{effect:"dark",size:"small",type:"success"}},[e._v(" "+e._s(e.debugInfo.reqMethod))]),e._v(" "),a("span",{staticStyle:{"font-size":"14px"}},[e._v(e._s(" "+e.debugInfo.reqUrl))])],1),e._v(" "),a("el-collapse",{model:{value:e.reqActiveNames,callback:function(t){e.reqActiveNames=t},expression:"reqActiveNames"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[a("b",[e._v("headers")])]),e._v(" "),e._l(e.debugInfo.reqHeaders,(function(t,n){return a("div",{key:n},[a("span",[a("b",[e._v(e._s(t.key+"："))]),e._v("\n                "+e._s(t.value)+"\n              ")]),a("br")])}))],2),e._v(" "),a("el-collapse-item",{attrs:{name:"2"}},[a("template",{slot:"title"},[a("b",[e._v("params")])]),e._v(" "),e._l(e.debugInfo.reqQuery,(function(t,n){return a("div",{key:n},[a("span",[a("b",[e._v(e._s(t.key+"："))]),e._v("\n                "+e._s(t.value)+"\n              ")]),a("br")])}))],2),e._v(" "),"GET"!==e.debugInfo.reqMethod?a("el-collapse-item",{attrs:{name:"3"}},[a("template",{slot:"title"},[a("b",[e._v(e._s("raw"===e.debugInfo.reqBodyType?"body":"bodyForm"))])]),e._v(" "),"raw"===e.debugInfo.reqBodyType?a("pre",[e._v(e._s(e.formatJson(e.debugInfo.reqBodyJson)))]):e._e(),e._v(" "),"raw"!==e.debugInfo.reqBodyType?a("div",e._l(e.debugInfo.reqBodyData,(function(t,n){return a("div",{key:n},[a("span",[a("b",[e._v(e._s(t.key+"："))]),e._v("\n                  "+e._s(t.value)+"\n                ")]),a("br")])})),0):e._e()],2):e._e()],1)],1)]),e._v(" "),a("el-tab-pane",{attrs:{label:"响应信息",name:"responseInfo"}},[a("div",{staticStyle:{overflow:"auto",height:"calc(100vh - 120px)","padding-right":"20px"}},[a("el-row",{staticStyle:{"margin-bottom":"10px"}},[a("el-tag",{attrs:{effect:"dark",size:"small",type:"success"}},[e._v(" "+e._s(e.debugInfo.rspStatusCode))]),e._v(" "),a("el-tag",{attrs:{effect:"plain",size:"small",type:"success"}},[e._v(" "+e._s("响应时间："+e.debugInfo.rspTime+" 毫秒"))]),e._v(" "),a("el-tag",{attrs:{effect:"plain",size:"small",type:"info"}},[e._v(" "+e._s("body长度："+e.debugInfo.rspBodySize))])],1),e._v(" "),a("el-collapse",{model:{value:e.rspActiveNames,callback:function(t){e.rspActiveNames=t},expression:"rspActiveNames"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[a("b",[e._v("body")])]),e._v(" "),a("pre",[e._v(e._s(e.debugInfo.rspBody))])],2),e._v(" "),a("el-collapse-item",{attrs:{name:"2"}},[a("template",{slot:"title"},[a("b",[e._v("headers")])]),e._v(" "),e._l(e.debugInfo.rspHeaders,(function(t,n){return a("div",{key:n},[a("span",[a("b",[e._v(e._s(t.key+"："))]),e._v("\n                "+e._s(t.value)+"\n              ")]),a("br")])}))],2)],1)],1)]),e._v(" "),a("el-tab-pane",{attrs:{label:"验证结果",name:"fourth"}},[a("div",{staticStyle:{"margin-right":"20px",overflow:"auto",height:"calc(100vh - 120px)"}},[a("el-divider",{attrs:{"content-position":"left"}},[e._v("断言结果")]),e._v(" "),a("el-table",{attrs:{data:e.debugInfo.rspAsserts,border:"",size:"mini"}},[a("el-table-column",{attrs:{property:"dataSource",label:"数据源",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s("bodyJson"===t.row.dataSource?"响应体(JSON)":"")+"\n              "+e._s("bodyXml"===t.row.dataSource?"响应体(XML)":"")+"\n              "+e._s("bodyReg"===t.row.dataSource?"响应体(正则)":"")+"\n              "+e._s("code"===t.row.dataSource?"响应码":"")+"\n              "+e._s("header"===t.row.dataSource?"响应头":"")+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"extractExpress","show-overflow-tooltip":"",label:"提取表达式",align:"center","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.extractExpress)+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"expectRelation",label:"期望关系",align:"center","min-width":"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.expectRelation)+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"extractType",label:"期望类型",align:"center",width:"75"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s("string"===t.row.extractType?"字符串":"")+"\n              "+e._s("number"===t.row.extractType?"数值":"")+"\n              "+e._s("boolean"===t.row.extractType?"布尔值":"")+"\n              "+e._s("null"===t.row.extractType?"Null":"")+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"expectValue","show-overflow-tooltip":"",label:"期望值",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.expectValue)+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"realType",label:"实际类型",align:"center",width:"75"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s("string"===t.row.realType?"字符串":"")+"\n              "+e._s("number"===t.row.realType?"数值":"")+"\n              "+e._s("boolean"===t.row.realType?"布尔值":"")+"\n              "+e._s("null"===t.row.realType?"Null":"")+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"realValue",label:"实际值","show-overflow-tooltip":"",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.realValue)+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"realValue",label:"检验结果",align:"center","min-width":"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.result?a("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("成功")]):a("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v("失败")])]}}])})],1),e._v(" "),a("el-divider",{attrs:{"content-position":"left"}},[e._v("参数提取")]),e._v(" "),a("el-table",{attrs:{data:e.debugInfo.rspExtracts,border:"",size:"mini"}},[a("el-table-column",{attrs:{property:"dataSource",label:"数据源",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s("bodyJson"===t.row.dataSource?"响应体(JSON)":"")+"\n              "+e._s("bodyXml"===t.row.dataSource?"响应体(XML)":"")+"\n              "+e._s("bodyReg"===t.row.dataSource?"响应体(正则)":"")+"\n              "+e._s("code"===t.row.dataSource?"响应码":"")+"\n              "+e._s("header"===t.row.dataSource?"响应头":"")+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"extractExpress",label:"提取表达式","show-overflow-tooltip":"",align:"center","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.extractExpress)+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"varName",label:"变量名称","show-overflow-tooltip":"",align:"center","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.varName)+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"realValue",label:"实际值","show-overflow-tooltip":"",align:"center","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.realValue)+"\n            ")]}}])})],1)],1)]),e._v(" "),a("el-tab-pane",{attrs:{label:"异常信息",name:"third"}},[a("div",{staticStyle:{overflow:"auto",height:"calc(100vh - 120px)"}},[e.debugInfo.exception?a("div",{staticStyle:{"margin-left":"20px"}},[e._v(e._s(e.debugInfo.exception))]):a("div",{staticStyle:{width:"100%",margin:"10px 10px 10px 20px"}},[e._v("没有异常信息")])])])],1)],1)},r=[],s=(a("cc57"),{components:{},data:function(){return{title:"调试结果",apiDebugDrawer:!1,debugInfo:{},tablesActiveName:"responseInfo",reqActiveNames:["1","2","3","4","5"],rspActiveNames:["1","2","3","4","5"]}},computed:{},mounted:function(){},methods:{init:function(e,t){this.title=t?"测试结果":"调试结果",this.tablesActiveName="responseInfo",this.reqActiveNames=["1","2","3","4","5"],this.rspActiveNames=["1","2","3","4","5"],this.apiDebugDrawer=!0,this.debugInfo=e},handleClick:function(e,t){console.log(e,t)},coverJson:function(e){try{return JSON.parse(e)}catch(t){return e}},formatJson:function(e){try{var t=JSON.parse(e);return JSON.stringify(t,null,2)}catch(a){return e}},formatData:function(e,t){try{for(var a=JSON.parse(e),n="",r=0;r<a.length;r++){var s=a[r];n="name"===t?n+s.name+": "+s.value+"\r\n":n+s.key+": "+s.value+"\r\n"}return n}catch(i){return e}}}}),i=s,l=a("5511"),o=Object(l["a"])(i,n,r,!1,null,"fc29a8e2",null);t["default"]=o.exports},e8fe:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box-card card-my",attrs:{shadow:"never"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.serchData,"label-width":"90px","label-position":"right",size:"mini"}},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.serchData.resultType,callback:function(t){e.$set(e.serchData,"resultType",t)},expression:"serchData.resultType"}},[a("el-radio-button",{attrs:{label:""},nativeOn:{click:function(t){return e.clickRadio(t,-2)}}},[e._v("全部")]),e._v(" "),a("el-radio-button",{attrs:{label:1},nativeOn:{click:function(t){return e.clickRadio(t,1)}}},[e._v("成功")]),e._v(" "),a("el-radio-button",{attrs:{label:-1},nativeOn:{click:function(t){return e.clickRadio(t,-1)}}},[e._v("执行异常")]),e._v(" "),a("el-radio-button",{attrs:{label:0},nativeOn:{click:function(t){return e.clickRadio(t,0)}}},[e._v("断言失败")]),e._v(" "),a("el-radio-button",{attrs:{label:2},nativeOn:{click:function(t){return e.clickRadio(t,2)}}},[e._v("跳过")])],1)],1)])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"auto"},attrs:{data:e.dataList,border:"",stripe:"",size:"mini"}},[a("el-table-column",{attrs:{align:"center",label:"步骤名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.stepName))]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"100",align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[-1===t.row.resultType?a("el-tag",{attrs:{size:"small",type:"danger"}},[e._v(e._s("执行异常"))]):e._e(),e._v(" "),0===t.row.resultType?a("el-tag",{attrs:{size:"small",type:"danger"}},[e._v(e._s("断言失败"))]):e._e(),e._v(" "),1===t.row.resultType?a("el-tag",{attrs:{size:"small"}},[e._v(e._s("执行成功"))]):e._e(),e._v(" "),2===t.row.resultType?a("el-tag",{attrs:{size:"small",type:"info"}},[e._v(e._s("跳过"))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"160",align:"center",label:"开始时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.createTime))]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"110",align:"center",label:"耗时"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s((t.row.rspTime||0)+"毫秒"))]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"130",align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.viewDetail(t.row)}}},[e._v("查看详情")])]}}])})],1),e._v(" "),a("apiDebug",{ref:"apiDebug"})],1)},r=[],s=a("97a6"),i=a("cf45"),l=a("d746"),o={components:{apiDebug:l["default"]},data:function(){return{loading:!1,serchData:{resultType:"",caseResultId:-1,planLogId:this.$route.query.id},dataList:[]}},computed:{},mounted:function(){this.$route.query.id&&this.getPageList()},methods:{clickRadio:function(e,t){"INPUT"!==e.target.tagName&&(this.serchData.resultType=-2===t?"":t,this.getPageList())},getDifftime:function(e,t){return Object(i["a"])(e,t)},getRate:function(e,t){return Object(i["b"])(e,t)},viewDetail:function(e){this.$refs.apiDebug.init(e,!0)},searchList:function(e){this.serchData.caseResultId=e,this.getPageList()},getPageList:function(){var e=this;this.loading=!0,Object(s["e"])(this.serchData).then((function(t){e.dataList=t||[],e.loading=!1}))}}},c=o,u=(a("84d4"),a("5511")),d=Object(u["a"])(c,n,r,!1,null,"fc980404",null);t["default"]=d.exports}}]);