(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-659fc142"],{"41c9":function(e,o,t){"use strict";var n=t("b7a3"),s=t.n(n);s.a},"9ed6":function(e,o,t){"use strict";t.r(o);var n=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[t("div",{staticClass:"login-header"},[t("LangSelect",{staticStyle:{float:"right",margin:"25px 50px 10px 10px"}})],1),e._v(" "),t("div",{staticClass:"login-container"},[t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[t("div",{staticClass:"title-container"},[t("h3",{staticClass:"title"},[e._v(e._s(e.$t("login.title")))])]),e._v(" "),t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{ref:"username",attrs:{placeholder:"请输入账号",name:"username",type:"text","auto-complete":"on"},model:{value:e.loginForm.username,callback:function(o){e.$set(e.loginForm,"username",o)},expression:"loginForm.username"}},[t("svg-icon",{attrs:{slot:"prefix","icon-class":"user"},slot:"prefix"})],1)],1),e._v(" "),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"请输入密码",name:"password","auto-complete":"on"},nativeOn:{keyup:function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:e.handleLogin(o)}},model:{value:e.loginForm.password,callback:function(o){e.$set(e.loginForm,"password",o)},expression:"loginForm.password"}},[t("svg-icon",{attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"}),e._v(" "),t("svg-icon",{staticStyle:{"margin-right":"8px"},attrs:{slot:"suffix","icon-class":"password"===e.passwordType?"eye":"eye-open"},nativeOn:{mousedown:function(o){return e.showPwd(o)},mouseup:function(o){return e.showPwd(o)}},slot:"suffix"})],1)],1),e._v(" "),t("el-checkbox",{model:{value:e.loginForm.checkbox,callback:function(o){e.$set(e.loginForm,"checkbox",o)},expression:"loginForm.checkbox"}},[e._v(e._s(e.$t("login.Rememb")))]),e._v(" "),t("el-button",{staticStyle:{width:"100%","margin-bottom":"45px","margin-top":"22px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(o){return o.preventDefault(),e.handleLogin(o)}}},[e._v("登录")])],1)],1),e._v(" "),t("div",{staticClass:"login-foot"})])},s=[],a=(t("f548"),function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("el-dropdown",{staticClass:"international",attrs:{trigger:"click"},on:{command:e.handleSetLanguage}},[t("div",[t("svg-icon",{attrs:{"class-name":"international-icon","icon-class":"language"}})],1),e._v(" "),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{disabled:"zh"===e.language,command:"zh"}},[e._v("\n      中文\n    ")]),e._v(" "),t("el-dropdown-item",{attrs:{disabled:"en"===e.language,command:"en"}},[e._v("\n      English\n    ")])],1)],1)}),r=[],i={computed:{language:function(){return this.$store.getters.language}},methods:{handleSetLanguage:function(e){this.$i18n.locale=e,this.$store.dispatch("app/setLanguage",e),this.$message({message:"Switch Language Success",type:"success"})}}},l=i,c=t("5511"),d=Object(c["a"])(l,a,r,!1,null,null,null),u=d.exports,p={name:"Login",components:{LangSelect:u},data:function(){return{loginForm:{username:"",password:"",checkbox:!0},loginRules:{username:[{required:!0,message:"账号不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]},passwordKey:")q4$%^)*&^%m",loading:!1,passwordType:"password",redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},mounted:function(){var e=JSON.parse(localStorage.getItem("login"));if(e){var o=window.atob(e.p).replace(this.passwordKey+"","");this.loginForm.username=e.u,this.loginForm.password=o}},methods:{showPwd:function(){"password"===this.passwordType?this.passwordType="":this.passwordType="password"},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(o){if(!o)return!1;e.loading=!0,e.$store.dispatch("user/login",e.loginForm).then((function(){if(e.$router.push({path:e.redirect||"/"}),e.loading=!1,e.loginForm.checkbox){var o=window.btoa(e.loginForm.password+e.passwordKey);localStorage.setItem("login",JSON.stringify({u:e.loginForm.username,p:o}))}else localStorage.removeItem("login",e.loginForm.checkbox)})).catch((function(){e.loading=!1}))}))}}},g=p,m=(t("41c9"),Object(c["a"])(g,n,s,!1,null,"78d8b387",null));o["default"]=m.exports},b7a3:function(e,o,t){}}]);