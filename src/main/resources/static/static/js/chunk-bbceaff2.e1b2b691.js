(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bbceaff2","chunk-d60bb7d8","chunk-145c2f74","chunk-477ad00a","chunk-45adf4f5","chunk-016f2cb0","chunk-9d5cc0e2","chunk-2d221446"],{"05ed":function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"i",(function(){return r})),a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return o})),a.d(t,"j",(function(){return s})),a.d(t,"g",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"k",(function(){return p})),a.d(t,"d",(function(){return d})),a.d(t,"h",(function(){return f})),a.d(t,"f",(function(){return b}));var n=a("b775"),i=function(e){return Object(n["d"])("/dict/listDict")},r=function(e){return Object(n["d"])("/dict/uiActionList")},l=function(e){return Object(n["d"])("/dict/apiActionList")},o=function(e){return Object(n["e"])("/dict/addDict",e)},s=function(e){return Object(n["f"])("/dict/editDict",e)},c=function(e){return Object(n["d"])("/dict/listDictValue/"+e)},u=function(e){return Object(n["e"])("/dict/addDictValue",e)},p=function(e){return Object(n["f"])("/dict/editDictValue",e)},d=function(e){return Object(n["e"])("/dict/removeDictValue/"+e)},f=function(e){return Object(n["d"])("/dict/dictValue/listPage",e)},b=function(e){return Object(n["e"])("/dict/getDictValueById/"+e)}},"0cea":function(e,t,a){"use strict";a.d(t,"h",(function(){return i})),a.d(t,"g",(function(){return r})),a.d(t,"f",(function(){return l})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return s})),a.d(t,"i",(function(){return c})),a.d(t,"j",(function(){return u})),a.d(t,"d",(function(){return p})),a.d(t,"e",(function(){return d})),a.d(t,"c",(function(){return f}));var n=a("b775"),i=function(e){return Object(n["d"])("/apiTestCase/listPage",e,!1)},r=function(e){return Object(n["d"])("/apiTestCase/"+e)},l=function(e){return Object(n["d"])("/apiTestCase/steps/"+e)},o=function(e){return Object(n["e"])("/apiTestCase/add",e)},s=function(e){return Object(n["e"])("/apiTestCase/addApiToCase",e)},c=function(e){return Object(n["f"])("/apiTestCase/edit",e)},u=function(e){return Object(n["f"])("/apiTestCase/editStep",e)},p=function(e){return Object(n["e"])("/apiTestCase/remove",e)},d=function(e){return Object(n["e"])("/apiTestCase/removeStep",e)},f=function(e){return Object(n["e"])("/apiTestCase/debug",e)}},"0e4c":function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return l})),a.d(t,"e",(function(){return o})),a.d(t,"b",(function(){return s}));var n=a("b775"),i=function(e){return Object(n["d"])("/testDatabese/listPage",e,!1)},r=function(e){return Object(n["d"])("/testDatabese/listByProjectId/"+e)},l=function(e){return Object(n["e"])("/testDatabese/add",e)},o=function(e){return Object(n["f"])("/testDatabese/edit",e)},s=function(e){return Object(n["e"])("/testDatabese/remove",e)}},"163d":function(e,t,a){"use strict";var n=a("e7ad"),i=a("e042"),r=a("75c4"),l=a("1e5b"),o=a("94b3"),s=a("238a"),c=a("2ea2").f,u=a("dcb7").f,p=a("064e").f,d=a("777a").trim,f="Number",b=n[f],m=b,v=b.prototype,h=r(a("e005")(v))==f,y="trim"in String.prototype,_=function(e){var t=o(e,!1);if("string"==typeof t&&t.length>2){t=y?t.trim():d(t,3);var a,n,i,r=t.charCodeAt(0);if(43===r||45===r){if(a=t.charCodeAt(2),88===a||120===a)return NaN}else if(48===r){switch(t.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+t}for(var l,s=t.slice(2),c=0,u=s.length;c<u;c++)if(l=s.charCodeAt(c),l<48||l>i)return NaN;return parseInt(s,n)}}return+t};if(!b(" 0o1")||!b("0b1")||b("+0x1")){b=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof b&&(h?s((function(){v.valueOf.call(a)})):r(a)!=f)?l(new m(_(t)),a,b):_(t)};for(var x,w=a("149f")?c(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),g=0;w.length>g;g++)i(m,x=w[g])&&!i(b,x)&&p(b,x,u(m,x));b.prototype=v,v.constructor=b,a("bf16")(n,f,b)}},"179f":function(e,t,a){},"1d87e":function(e,t,a){},"1e5b":function(e,t,a){var n=a("fb68"),i=a("859b").set;e.exports=function(e,t,a){var r,l=t.constructor;return l!==a&&"function"==typeof l&&(r=l.prototype)!==a.prototype&&n(r)&&i&&i(e,r),e}},"1fe8":function(e,t,a){"use strict";var n=a("7fb3"),i=a.n(n);i.a},3568:function(e,t,a){"use strict";var n=a("886a"),i=a.n(n);i.a},"39fb":function(e,t,a){},4438:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticClass:"el-table-no-border",attrs:{data:e.params,size:"mini","show-header":!1}},[a("el-table-column",{attrs:{property:"key",label:"Key","header-align":"center","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"请输入参数名称"},model:{value:t.row.key,callback:function(a){e.$set(t.row,"key",a)},expression:"scope.row.key"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"value",label:"Value","header-align":"center","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.type?a("el-input",{staticStyle:{width:"100%"},attrs:{size:"mini",placeholder:"请输入参数值"},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}}):e._e(),e._v(" "),2===t.row.type?a("el-input-number",{staticStyle:{width:"100%"},attrs:{size:"mini",controls:!1},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}}):e._e(),e._v(" "),3===t.row.type?a("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",placeholder:"请输入参数值"},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}},[a("el-option",{attrs:{label:"true",value:"true"}}),e._v(" "),a("el-option",{attrs:{label:"false",value:"false"}})],1):e._e(),e._v(" "),4===t.row.type?a("el-input",{staticStyle:{width:"100%"},attrs:{disabled:"",size:"mini",placeholder:"请输入参数值"},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}}):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"type",label:"type","header-align":"center","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",filterable:"",placeholder:"请选择参数值类型"},on:{change:function(a){return e.changeType(a,t.row)}},model:{value:t.row.type,callback:function(a){e.$set(t.row,"type",a)},expression:"scope.row.type"}},[a("el-option",{attrs:{label:"字符串",value:1}}),e._v(" "),a("el-option",{attrs:{label:"数值",value:2}}),e._v(" "),a("el-option",{attrs:{label:"布尔值",value:3}}),e._v(" "),a("el-option",{attrs:{label:"null",value:4}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","header-align":"center",width:"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.$index+1!==e.params.length?a("el-button",{staticStyle:{padding:"5px 0px 5px"},attrs:{type:"text",icon:"el-icon-delete"},nativeOn:{click:function(a){return e.delTableRow("params",t.$index)}}}):e._e()]}}])})],1)},i=[],r={props:["value"],data:function(){return{params:[]}},watch:{params:{handler:function(e){0===this.params.length?this.addTableRow("params"):this.params[this.params.length-1]["key"]&&this.addTableRow("params");for(var t=0;t<this.params.length;t++){var a=this.params[t];if(t!==this.params.length-1&&!a.key){this.delTableRow("params",t);break}}this.$emit("input",e)},deep:!0},value:{handler:function(e){this.params=e||[{key:"",value:"",type:1}]},immediate:!0}},mounted:function(){},methods:{changeType:function(e,t){2===e?t.value=0:3===e?t.value="true":4===e&&(t.value="null")},addTableRow:function(e){"params"===e&&this.params.push({key:"",value:"",type:1})},selectHeader:function(e,t){"Content-Type"===e.value&&(t.value="application/json;charset=UTF-8")},delTableRow:function(e,t){"params"===e&&this.params.splice(t,1)},createFilter:function(e){return function(t){return 0===t.value.toLowerCase().indexOf(e.toLowerCase())}}}},l=r,o=(a("6f56"),a("5511")),s=Object(o["a"])(l,n,i,!1,null,"679c0490",null);t["default"]=s.exports},"4d33":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{style:{height:e.height+"px",zIndex:e.zIndex}},[a("div",{class:e.className,style:{bottom:"0px",zIndex:e.zIndex,position:"fixed",width:e.width+"px",height:e.height+"px",transition:"width 0.3s"}},[e._t("default",[a("div",[e._v("myFoot")])])],2)])},i=[],r=(a("163d"),{name:"MyFoot",props:{zIndex:{type:Number,default:1},className:{type:String,default:""}},data:function(){return{width:void 0,height:void 0}},computed:{sidebar:function(){return this.$store.state.app.sidebar}},watch:{"sidebar.opened":function(e){this.width=e?this.width-156:this.width+156}},mounted:function(){this.handleResize()},destroyed:function(){},methods:{handleResize:function(){this.width=this.$el.getBoundingClientRect().width}}}),l=r,o=a("5511"),s=Object(o["a"])(l,n,i,!1,null,null,null);t["a"]=s.exports},"50a5":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{attrs:{data:e.assert,border:"",size:"mini"}},[a("el-table-column",{attrs:{property:"dataSource",align:"center","min-width":"115"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{size:"mini",placeholder:"响应类型"},model:{value:t.row.dataSource,callback:function(a){e.$set(t.row,"dataSource",a)},expression:"scope.row.dataSource"}},[a("el-option",{attrs:{label:"响应体(JSON)",value:"bodyJson"}}),e._v(" "),a("el-option",{attrs:{label:"响应体(XML)",value:"bodyXml"}}),e._v(" "),a("el-option",{attrs:{label:"响应体(正则)",value:"bodyReg"}}),e._v(" "),a("el-option",{attrs:{label:"响应码",value:"code"}}),e._v(" "),a("el-option",{attrs:{label:"响应头",value:"header"}})],1)]}}])},[a("template",{slot:"header"},[a("span",{staticClass:"required"},[e._v("\n        数据源\n        "),a("el-button",{staticClass:"el-icon-circle-plus",staticStyle:{padding:"4px 0px"},attrs:{type:"text",size:"mini"},on:{click:function(t){return e.addTableRow("assert")}}})],1)])],2),e._v(" "),a("el-table-column",{attrs:{property:"extractExpress",label:"提取表达式",align:"center","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{disabled:"响应码"===t.row.dataSource,size:"mini",placeholder:"提取表达式"},model:{value:t.row.extractExpress,callback:function(a){e.$set(t.row,"extractExpress",a)},expression:"scope.row.extractExpress"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"expectRelation",label:"期望关系",align:"center","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{size:"mini",disabled:"响应码"===t.row.dataSource,placeholder:"期望关系"},model:{value:t.row.expectRelation,callback:function(a){e.$set(t.row,"expectRelation",a)},expression:"scope.row.expectRelation"}},[a("el-option",{attrs:{label:"等于",value:"等于"}}),e._v(" "),a("el-option",{attrs:{label:"大于",value:"大于"}}),e._v(" "),a("el-option",{attrs:{label:"大于等于",value:"大于等于"}}),e._v(" "),a("el-option",{attrs:{label:"小于",value:"小于"}}),e._v(" "),a("el-option",{attrs:{label:"小于等于",value:"小于等于"}}),e._v(" "),a("el-option",{attrs:{label:"包含",value:"包含"}}),e._v(" "),a("el-option",{attrs:{label:"不包含",value:"不包含"}}),e._v(" "),a("el-option",{attrs:{label:"长度等于",value:"长度等于"}}),e._v(" "),a("el-option",{attrs:{label:"长度大于",value:"长度大于"}}),e._v(" "),a("el-option",{attrs:{label:"长度大于等于",value:"长度大于等于"}}),e._v(" "),a("el-option",{attrs:{label:"长度小于",value:"长度小于"}}),e._v(" "),a("el-option",{attrs:{label:"长度小于等于",value:"长度小等于"}}),e._v(" "),a("el-option",{attrs:{label:"开始于",value:"开始于"}}),e._v(" "),a("el-option",{attrs:{label:"结束于",value:"结束于"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"extractType",label:"期望类型",align:"center","min-width":"92"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{size:"mini",disabled:"响应码"===t.row.dataSource,placeholder:"期望关系"},model:{value:t.row.extractType,callback:function(a){e.$set(t.row,"extractType",a)},expression:"scope.row.extractType"}},[a("el-option",{attrs:{label:"字符串",value:"string"}}),e._v(" "),a("el-option",{attrs:{label:"数值",value:"number"}}),e._v(" "),a("el-option",{attrs:{label:"布尔值",value:"boolean"}}),e._v(" "),a("el-option",{attrs:{label:"接口变量",value:"apiVar"}}),e._v(" "),a("el-option",{attrs:{label:"Null",value:"null"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"expectValue",label:"期望值",align:"center","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"期望值"},model:{value:t.row.expectValue,callback:function(a){e.$set(t.row,"expectValue",a)},expression:"scope.row.expectValue"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"55"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"5px 7px 5px 7px"},attrs:{type:"text",icon:"el-icon-delete"},nativeOn:{click:function(a){return e.delTableRow("assert",t.$index)}}})]}}])})],1)},i=[],r={props:["value"],data:function(){return{assert:[{dataSource:"bodyJson",extractType:"string",extractExpress:"",expectRelation:"等于",expectValue:""}]}},watch:{assert:{handler:function(e){this.$emit("input",e)},deep:!0},value:{handler:function(e){this.assert=e||[]},immediate:!0}},mounted:function(){},methods:{addTableRow:function(e){"assert"===e&&this.assert.push({dataSource:"bodyJson",extractType:"string",extractExpress:"",expectRelation:"等于",expectValue:""})},delTableRow:function(e,t){"assert"===e&&this.assert.splice(t,1)}}},l=r,o=(a("db0c"),a("5511")),s=Object(o["a"])(l,n,i,!1,null,"16f1b9c0",null);t["default"]=s.exports},"65e5":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{attrs:{title:"接口信息",size:"850px","append-to-body":"","custom-class":"drawer-mian",visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"debug-result-tabls",staticStyle:{margin:"0px 20px 0px 20px",overflow:"auto",height:"calc(100% - 15px)"}},[a("el-row",{staticStyle:{"margin-bottom":"10px"}},[a("span",{staticStyle:{"font-size":"13px"}},[a("b",[e._v("接口名称：")]),e._v("\n        "+e._s(e.apiData.name)+"\n      ")]),a("br")]),e._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"}},[a("span",{staticStyle:{"font-size":"13px"}},[a("b",[e._v("环境域名：")]),e._v("\n        "+e._s(e.apiData.domain)+"\n      ")]),a("br")]),e._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"}},[a("el-tag",{attrs:{effect:"dark",size:"small",type:"success"}},[e._v(" "+e._s(e.apiData.method))]),e._v(" "),a("span",{staticStyle:{"font-size":"13px"}},[e._v(e._s(e.apiData.path?e.apiData.path.split("?")[0]:""))])],1),e._v(" "),a("el-collapse",{model:{value:e.reqActiveNames,callback:function(t){e.reqActiveNames=t},expression:"reqActiveNames"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[a("b",[e._v("headers")])]),e._v(" "),e._l(e.apiData.reqHeaders,(function(t,n){return a("div",{key:n},[a("span",[a("b",[e._v(e._s(t.key+"："))]),e._v("\n            "+e._s(t.value)+"\n          ")]),a("br")])}))],2),e._v(" "),a("el-collapse-item",{attrs:{name:"2"}},[a("template",{slot:"title"},[a("b",[e._v("params")])]),e._v(" "),e._l(e.apiData.reqQuery,(function(t,n){return a("div",{key:n},[a("span",[a("b",[e._v(e._s(t.key+"："))]),e._v("\n            "+e._s(t.value)+"\n          ")]),a("br")])}))],2),e._v(" "),"GET"!==e.apiData.reqMethod?a("el-collapse-item",{attrs:{name:"3"}},[a("template",{slot:"title"},[a("b",[e._v(e._s("raw"===e.apiData.reqBodyType?"body":"bodyForm"))])]),e._v(" "),"raw"===e.apiData.reqBodyType?a("pre",[e._v(e._s(e.formatJson(e.apiData.reqBodyJson)))]):e._e(),e._v(" "),"raw"!==e.apiData.reqBodyType?a("div",e._l(e.apiData.reqBodyData,(function(t,n){return a("div",{key:n},[a("span",[a("b",[e._v(e._s(t.key+"："))]),e._v("\n              "+e._s(t.value)+"\n            ")]),a("br")])})),0):e._e()],2):e._e()],1)],1)])},i=[],r={data:function(){return{visible:!1,reqActiveNames:["1","2","3","4","5"],apiData:{}}},computed:{},mounted:function(){},methods:{init:function(e){this.apiData=e,this.visible=!0},formatJson:function(e){try{var t=JSON.parse(e);return JSON.stringify(t,null,2)}catch(a){return e}}}},l=r,o=(a("ed3f"),a("5511")),s=Object(o["a"])(l,n,i,!1,null,null,null);t["default"]=s.exports},6793:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"card-main ",staticStyle:{padding:"0px 30px"}},[a("div",{staticClass:"box-card",attrs:{shadow:"never"}},[a("el-form",{ref:"addOrEditForm",attrs:{model:e.apiData,"label-position":"right",rules:e.rules,size:"small"}},[a("el-row",{staticStyle:{"margin-bottom":"5px"}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"步骤名称：","label-width":"83px",prop:"name"}},[a("el-input",{staticStyle:{width:"85%"},attrs:{placeholder:"请输入接口名称"},model:{value:e.apiData.name,callback:function(t){e.$set(e.apiData,"name",t)},expression:"apiData.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"关联接口：","label-width":"83px"}},[e.apiData.api?a("el-link",{attrs:{type:"primary"},on:{click:e.openApiDetail}},[e._v(e._s(e.apiData.api.name))]):e._e(),e._v(" "),e.apiData.api?e._e():a("el-link",{attrs:{disabled:""}},[e._v("该接口不存在")])],1)],1)],1)],1)],1),e._v(" "),a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{ref:"params",attrs:{label:"参数",name:"reqQuery"}},[a("apiParams",{model:{value:e.apiData.apiParams,callback:function(t){e.$set(e.apiData,"apiParams",t)},expression:"apiData.apiParams"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"断言",name:"response-assert"}},[a("responseAssert",{model:{value:e.apiData.reqAssert,callback:function(t){e.$set(e.apiData,"reqAssert",t)},expression:"apiData.reqAssert"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"参数提取",name:"response-extract"}},[a("responseExtract",{model:{value:e.apiData.reqExtract,callback:function(t){e.$set(e.apiData,"reqExtract",t)},expression:"apiData.reqExtract"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"前置处理器",name:"before-excs"}},[a("ApiActionExcList",{model:{value:e.apiData.beforeExcs,callback:function(t){e.$set(e.apiData,"beforeExcs",t)},expression:"apiData.beforeExcs"}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"附件",name:"file"}},[a("actionFileList",{ref:"actionFileList"})],1)],1),e._v(" "),a("MyFoot",{attrs:{"z-index":2,"sticky-bottom":0,"class-name":"sub-navbar my-foot-api-edit"}},[a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{staticStyle:{"font-size":"14px","padding-left":"25px","padding-right":"25px"},attrs:{size:"small",type:"primary"},on:{click:e.editApi}},[e._v("保存并关闭")])],1)]),e._v(" "),a("apiDetail",{ref:"apiDetail"})],1)},i=[],r=a("0cea"),l=a("4d33"),o=a("3fa5"),s=a("7525"),c=a("50a5"),u=a("4438"),p=a("ca2d"),d=a("737b"),f=a("65e5"),b={components:{MyFoot:l["a"],responseExtract:s["default"],responseAssert:c["default"],actionFileList:p["default"],ApiActionExcList:d["default"],apiParams:u["default"],apiDetail:f["default"]},props:["apiData"],data:function(){return{apiDrawer:!1,activeName:"reqQuery",loading:!1,apiSuiteList:[],rules:{name:[{required:!0,message:"步骤名称不能为空",trigger:"blur"}],domain:[{required:!0,message:"协议+域名为空",trigger:"blur"}],path:[{required:!0,message:"接口路径不能为空",trigger:"blur"}]}}},watch:{},mounted:function(){var e=this;this.$nextTick((function(){e.$refs.actionFileList.init(e.apiData.id,4)}))},methods:{openApiDetail:function(){this.$refs.apiDetail.init(this.apiData.api)},editApi:function(){var e=this;this.$refs["addOrEditForm"].validate((function(t){if(t){e.loading=!0;var a=JSON.parse(JSON.stringify(e.apiData));a.beforeExcs&&a.beforeExcs.length>0&&!a.beforeExcs[a.beforeExcs.length-1].key&&a.beforeExcs.splice(a.beforeExcs.length-1,1),a.apiParams&&a.apiParams.length>0&&!a.apiParams[a.apiParams.length-1].key&&a.apiParams.splice(a.apiParams.length-1,1),Object(r["j"])(a).then((function(t){e.$emit("stepApiSave",a),e.loading=!1,Object(o["a"])("修改数据成功")}))}}))}}},m=b,v=(a("1fe8"),a("5511")),h=Object(v["a"])(m,n,i,!1,null,"2eef6998",null);t["default"]=h.exports},"6f56":function(e,t,a){"use strict";var n=a("39fb"),i=a.n(n);i.a},"737b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"request-body"},[a("el-table",{staticClass:"el-table-no-border",attrs:{data:e.body,size:"mini","show-header":!0}},[a("el-table-column",{attrs:{property:"name",label:"描述","header-align":"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"执行名称"},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"action",label:"action","header-align":"center",width:"188"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-cascader",{staticStyle:{width:"150px"},attrs:{placeholder:"试试搜索：关键字",size:"mini",options:e.apiActionList,"show-all-levels":!1,filterable:"","popper-class":"ui-action-popper-class",props:{expandTrigger:"hover"}},on:{change:function(a){return e.changeAction(t.row,t.row.actionTemp)}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node,i=t.data;return[a("span",[e._v(e._s(i.label))]),e._v(" "),n.isLeaf?a("span",[e._v(" ("+e._s(i.name)+") ")]):e._e(),e._v(" "),n.isLeaf?e._e():a("span",[e._v(" ("+e._s(i.children.length)+") ")])]}}],null,!0),model:{value:t.row.actionTemp,callback:function(a){e.$set(t.row,"actionTemp",a)},expression:"scope.row.actionTemp"}}),e._v(" "),a("el-popover",{attrs:{placement:"top",width:"400",trigger:"click"}},[a("pre",[e._v(e._s(t.row.actionRemark))]),e._v(" "),a("svg-icon",{staticStyle:{cursor:"pointer"},attrs:{slot:"reference","icon-class":"tips"},slot:"reference"})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"mainParamId",label:"数据库/文件","header-align":"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",filterable:"",placeholder:"请选择数据库"},model:{value:t.row.mainParamId,callback:function(a){e.$set(t.row,"mainParamId",a)},expression:"scope.row.mainParamId"}},e._l(e.testDataBaseList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"params",label:"参数","header-align":"center","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"参数"},model:{value:t.row.params,callback:function(a){e.$set(t.row,"params",a)},expression:"scope.row.params"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"","header-align":"center",width:"40"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.$index+1!==e.body.length?a("el-button",{staticStyle:{padding:"5px 0px 5px"},attrs:{type:"text",icon:"el-icon-delete"},nativeOn:{click:function(a){return e.delTableRow("body",t.$index)}}}):e._e()]}}])})],1)],1)},i=[],r=(a("6d57"),a("cc57"),a("0e4c")),l=a("05ed"),o={props:["value"],data:function(){return{testDataBaseList:[],apiActionList:[],body:[]}},watch:{body:{handler:function(e){0===e.length?this.addTableRow("body"):e[e.length-1]["name"]&&e[e.length-1]["action"]&&this.addTableRow("body");for(var t=0;t<e.length;t++){var a=e[t];if(t!==e.length-1&&!a.name&&!a.action){this.delTableRow("body",t);break}}this.$emit("input",e)},deep:!0},value:{handler:function(e){this.body=e||[{name:"",actionType:"",action:"",actionRemark:"",actionTemp:[],mainParamId:"",params:""}],this.body&&this.body.map((function(e){return e.actionTemp=[e.actionType,e.action],e}))},immediate:!0}},mounted:function(){var e=this;this.getApiActionList(),Object(r["d"])(this.$store.getters.projectId).then((function(t){e.testDataBaseList=t||[]}))},methods:{addTableRow:function(e){"body"===e&&this.body.push({name:"",actionType:"",action:"",actionRemark:"",actionTemp:[],mainParamId:"",params:""})},delTableRow:function(e,t){"body"===e&&this.body.splice(t,1)},changeAction:function(e,t){e.actionType=t[0],e.action=t[1];for(var a=this.apiActionList,n=0;n<a.length;n++)if(0!==a[n].children.length&&a[n].value===t[0])for(var i=0;i<a[n].children.length;i++)if(a[n].children[i].value===t[1]){e.actionRemark=a[n].children[i].remark;break}},getApiActionList:function(){var e=this;Object(l["c"])().then((function(t){t.forEach((function(t){var a=t.name,n=t.key,i=[];t.sysDictValueList&&t.sysDictValueList.forEach((function(e){var t=e.key,a=e.key,n=e.name,r=e.remark;i.push({label:t,value:a,name:n,remark:r})})),e.apiActionList.push({label:a,value:n,children:i})}))}))}}},s=o,c=(a("7db5"),a("5511")),u=Object(c["a"])(s,n,i,!1,null,"60f24ec4",null);t["default"]=u.exports},7525:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{attrs:{data:e.extract,border:"",size:"mini"}},[a("el-table-column",{attrs:{property:"dataSource",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",placeholder:"响应类型"},model:{value:t.row.dataSource,callback:function(a){e.$set(t.row,"dataSource",a)},expression:"scope.row.dataSource"}},[a("el-option",{attrs:{label:"响应体(JSON)",value:"bodyJson"}}),e._v(" "),a("el-option",{attrs:{label:"响应体(XML)",value:"bodyXml"}}),e._v(" "),a("el-option",{attrs:{label:"响应体(正则)",value:"bodyReg"}}),e._v(" "),a("el-option",{attrs:{label:"响应码",value:"code"}}),e._v(" "),a("el-option",{attrs:{label:"响应头",value:"header"}})],1)]}}])},[a("template",{slot:"header"},[a("span",{staticClass:"required"},[e._v("\n        数据源\n        "),a("el-button",{staticClass:"el-icon-circle-plus",staticStyle:{padding:"4px 0px"},attrs:{type:"text",size:"mini"},on:{click:function(t){return e.addTableRow("extract")}}})],1)])],2),e._v(" "),a("el-table-column",{attrs:{property:"extractExpress",label:"提取表达式",align:"center","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"提取表达式"},model:{value:t.row.extractExpress,callback:function(a){e.$set(t.row,"extractExpress",a)},expression:"scope.row.extractExpress"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"varName",label:"变量名称",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"变量名称"},model:{value:t.row.varName,callback:function(a){e.$set(t.row,"varName",a)},expression:"scope.row.varName"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{padding:"5px 0px 5px"},attrs:{type:"text",icon:"el-icon-delete"},nativeOn:{click:function(a){return e.delTableRow("extract",t.$index)}}})]}}])})],1)},i=[],r={props:["value"],data:function(){return{extract:[{dataSource:"bodyJson",extractExpress:"",varName:""}]}},watch:{extract:{handler:function(e){this.$emit("input",e)},deep:!0},value:{handler:function(e){this.extract=e||[]},immediate:!0}},mounted:function(){},methods:{addTableRow:function(e){"extract"===e&&this.extract.push({dataSource:"bodyJson",extractExpress:"",varName:""})},delTableRow:function(e,t){"extract"===e&&this.extract.splice(t,1)}}},l=r,o=(a("3568"),a("5511")),s=Object(o["a"])(l,n,i,!1,null,"e4ed8d16",null);t["default"]=s.exports},"777a":function(e,t,a){var n=a("e46b"),i=a("f6b4"),r=a("238a"),l=a("9769"),o="["+l+"]",s="​",c=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),p=function(e,t,a){var i={},o=r((function(){return!!l[e]()||s[e]()!=s})),c=i[e]=o?t(d):l[e];a&&(i[a]=c),n(n.P+n.F*o,"String",i)},d=p.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=p},"7db5":function(e,t,a){"use strict";var n=a("7f0e"),i=a.n(n);i.a},"7f0e":function(e,t,a){},"7fb3":function(e,t,a){},"859b":function(e,t,a){var n=a("fb68"),i=a("69b3"),r=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=a("4ce5")(Function.call,a("dcb7").f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(i){t=!0}return function(e,a){return r(e,a),t?e.__proto__=a:n(e,a),e}}({},!1):void 0),check:r}},"886a":function(e,t,a){},9769:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},ca2d:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{attrs:{data:e.fileList,border:"","max-height":"200",size:"mini"}},[a("el-table-column",{attrs:{align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.name)+"\n      ")]}}])},[a("template",{slot:"header"},[a("el-button",{staticClass:"el-icon-circle-plus",staticStyle:{padding:"4px 0px"},attrs:{type:"text",size:"mini"},on:{click:function(t){e.dialogVisible=!0}}}),e._v("\n        文件名称\n      ")],1)],2),e._v(" "),a("el-table-column",{attrs:{label:"文件类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.contentType)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"el-icon-delete",staticStyle:{padding:"2px"},attrs:{type:"text",size:"mini"},on:{click:function(a){return e.deleteFile(t.row.id)}}}),e._v(" "),a("el-button",{staticClass:"el-icon-download",staticStyle:{padding:"2px"},attrs:{type:"text",size:"mini"},on:{click:function(a){return e.downloadFile(t.row)}}})]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"文件导入","close-on-click-modal":!1,visible:e.dialogVisible,width:"410px",center:""},on:{"update:visible":function(t){e.dialogVisible=t},close:function(t){return e.closeDialog()}}},[a("el-form",{ref:"uploadForm",attrs:{model:e.uploadInfo,"label-position":"right",size:"mini",rules:e.rules}},[a("el-form-item",{attrs:{prop:"name"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入文件名称"},model:{value:e.uploadInfo.name,callback:function(t){e.$set(e.uploadInfo,"name",t)},expression:"uploadInfo.name"}})],1)],1),e._v(" "),a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.uploadLoading,expression:"uploadLoading"}],ref:"upload",attrs:{"show-file-list":!1,drag:"","http-request":e.fileUpload,action:"#",multiple:""}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip",center:""},slot:"tip"},[e._v("文件不能超过10M")])])],1)],1)},i=[],r=a("b775"),l=function(e){return Object(r["e"])("/file/list",e)},o=function(e){return Object(r["g"])("/file/upload",e)},s=function(e){return Object(r["b"])("/file/"+e)},c={data:function(){return{dialogVisible:!1,uploadLoading:!1,rules:{name:[{required:!0,message:"文件名不能为空",trigger:"blur"}]},uploadInfo:{name:"",sourceType:1,sourceId:0,projectId:this.$store.getters.projectId},fileList:[]}},methods:{init:function(e,t){e&&(t&&(this.uploadInfo.sourceType=t),this.uploadInfo.sourceId=e,this.getFiles())},downloadFile:function(e){var t=document.createElement("a");t.style.display="none",t.href="/public/profile/system/"+e.path,t.download="",document.body.appendChild(t),t.click(),document.body.removeChild(t)},fileUpload:function(e){var t=this;this.$refs["uploadForm"].validate((function(a){if(a){var n=e.file,i=n.size<10485760;if(!i)return t.$message.warning("请上传10M以下的zip文件"),!1;var r=new FormData;r.append("files",n),r.append("fileInfo",JSON.stringify(t.uploadInfo)),t.uploadLoading=!0,o(r).then((function(e){t.$message({type:"success",message:"上传成功!"}),t.getFiles(),t.$refs["upload"].clearFiles(),t.dialogVisible=!1})).finally((function(){t.uploadLoading=!1}))}}))},deleteFile:function(e){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){s(e).then((function(e){t.$message({type:"success",message:"删除成功!"}),t.getFiles()}))})).catch((function(){t.$message({type:"success",message:"已取消删除"})}))},closeDialog:function(){this.$refs["upload"].clearFiles(),this.uploadInfo.name=""},getFiles:function(){var e=this;l({sourceType:this.uploadInfo.sourceType,sourceId:this.uploadInfo.sourceId}).then((function(t){e.fileList=t||[]}))}}},u=c,p=a("5511"),d=Object(p["a"])(u,n,i,!1,null,null,null);t["default"]=d.exports},db0c:function(e,t,a){"use strict";var n=a("1d87e"),i=a.n(n);i.a},ed3f:function(e,t,a){"use strict";var n=a("179f"),i=a.n(n);i.a}}]);